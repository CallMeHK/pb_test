(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var pt,_,ie,M,Ht,re,ct={},se=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(o,e){for(var t in e)o[t]=e[t];return o}function ce(o){var e=o.parentNode;e&&e.removeChild(o)}function ae(o,e,t){var n,i,r,s={};for(r in e)r=="key"?n=e[r]:r=="ref"?i=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?pt.call(arguments,2):t),typeof o=="function"&&o.defaultProps!=null)for(r in o.defaultProps)s[r]===void 0&&(s[r]=o.defaultProps[r]);return it(o,s,n,i,null)}function it(o,e,t,n,i){var r={type:o,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++ie};return i==null&&_.vnode!=null&&_.vnode(r),r}function A(o){return o.children}function W(o,e){this.props=o,this.context=e}function V(o,e){if(e==null)return o.__?V(o.__,o.__.__k.indexOf(o)+1):null;for(var t;e<o.__k.length;e++)if((t=o.__k[e])!=null&&t.__e!=null)return t.__e;return typeof o.type=="function"?V(o):null}function ue(o){var e,t;if((o=o.__)!=null&&o.__c!=null){for(o.__e=o.__c.base=null,e=0;e<o.__k.length;e++)if((t=o.__k[e])!=null&&t.__e!=null){o.__e=o.__c.base=t.__e;break}return ue(o)}}function Ct(o){(!o.__d&&(o.__d=!0)&&M.push(o)&&!at.__r++||Ht!==_.debounceRendering)&&((Ht=_.debounceRendering)||setTimeout)(at)}function at(){for(var o;at.__r=M.length;)o=M.sort(function(e,t){return e.__v.__b-t.__v.__b}),M=[],o.some(function(e){var t,n,i,r,s,c;e.__d&&(s=(r=(t=e).__v).__e,(c=t.__P)&&(n=[],(i=R({},r)).__v=r.__v+1,Et(c,r,i,t.__n,c.ownerSVGElement!==void 0,r.__h!=null?[s]:null,n,s??V(r),r.__h),pe(n,r),r.__e!=s&&ue(r)))})}function le(o,e,t,n,i,r,s,c,u,d){var a,l,p,f,v,I,m,S=n&&n.__k||se,w=S.length;for(t.__k=[],a=0;a<e.length;a++)if((f=t.__k[a]=(f=e[a])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?it(null,f,null,null,f):Array.isArray(f)?it(A,{children:f},null,null,null):f.__b>0?it(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=t,f.__b=t.__b+1,(p=S[a])===null||p&&f.key==p.key&&f.type===p.type)S[a]=void 0;else for(l=0;l<w;l++){if((p=S[l])&&f.key==p.key&&f.type===p.type){S[l]=void 0;break}p=null}Et(o,f,p=p||ct,i,r,s,c,u,d),v=f.__e,(l=f.ref)&&p.ref!=l&&(m||(m=[]),p.ref&&m.push(p.ref,null,f),m.push(l,f.__c||v,f)),v!=null?(I==null&&(I=v),typeof f.type=="function"&&f.__k===p.__k?f.__d=u=de(f,u,o):u=he(o,f,p,S,v,u),typeof t.type=="function"&&(t.__d=u)):u&&p.__e==u&&u.parentNode!=o&&(u=V(p))}for(t.__e=I,a=w;a--;)S[a]!=null&&ve(S[a],S[a]);if(m)for(a=0;a<m.length;a++)fe(m[a],m[++a],m[++a])}function de(o,e,t){for(var n,i=o.__k,r=0;i&&r<i.length;r++)(n=i[r])&&(n.__=o,e=typeof n.type=="function"?de(n,e,t):he(t,n,n,i,n.__e,e));return e}function he(o,e,t,n,i,r){var s,c,u;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(t==null||i!=r||i.parentNode==null)t:if(r==null||r.parentNode!==o)o.appendChild(i),s=null;else{for(c=r,u=0;(c=c.nextSibling)&&u<n.length;u+=1)if(c==i)break t;o.insertBefore(i,r),s=r}return s!==void 0?s:i.nextSibling}function Ae(o,e,t,n,i){var r;for(r in t)r==="children"||r==="key"||r in e||ut(o,r,null,t[r],n);for(r in e)i&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||t[r]===e[r]||ut(o,r,e[r],t[r],n)}function Mt(o,e,t){e[0]==="-"?o.setProperty(e,t):o[e]=t==null?"":typeof t!="number"||Re.test(e)?t:t+"px"}function ut(o,e,t,n,i){var r;t:if(e==="style")if(typeof t=="string")o.style.cssText=t;else{if(typeof n=="string"&&(o.style.cssText=n=""),n)for(e in n)t&&e in t||Mt(o.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||Mt(o.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in o?e.toLowerCase().slice(2):e.slice(2),o.l||(o.l={}),o.l[e+r]=t,t?n||o.addEventListener(e,r?Bt:Wt,r):o.removeEventListener(e,r?Bt:Wt,r);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in o)try{o[e]=t??"";break t}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?o.removeAttribute(e):o.setAttribute(e,t))}}function Wt(o){this.l[o.type+!1](_.event?_.event(o):o)}function Bt(o){this.l[o.type+!0](_.event?_.event(o):o)}function Et(o,e,t,n,i,r,s,c,u){var d,a,l,p,f,v,I,m,S,w,P,E,Ft,tt,et,T=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(u=t.__h,c=e.__e=t.__e,e.__h=null,r=[c]),(d=_.__b)&&d(e);try{t:if(typeof T=="function"){if(m=e.props,S=(d=T.contextType)&&n[d.__c],w=d?S?S.props.value:d.__:n,t.__c?I=(a=e.__c=t.__c).__=a.__E:("prototype"in T&&T.prototype.render?e.__c=a=new T(m,w):(e.__c=a=new W(m,w),a.constructor=T,a.render=Ne),S&&S.sub(a),a.props=m,a.state||(a.state={}),a.context=w,a.__n=n,l=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),T.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=R({},a.__s)),R(a.__s,T.getDerivedStateFromProps(m,a.__s))),p=a.props,f=a.state,l)T.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(T.getDerivedStateFromProps==null&&m!==p&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(m,w),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(m,a.__s,w)===!1||e.__v===t.__v){for(a.props=m,a.state=a.__s,e.__v!==t.__v&&(a.__d=!1),a.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(nt){nt&&(nt.__=e)}),P=0;P<a._sb.length;P++)a.__h.push(a._sb[P]);a._sb=[],a.__h.length&&s.push(a);break t}a.componentWillUpdate!=null&&a.componentWillUpdate(m,a.__s,w),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(p,f,v)})}if(a.context=w,a.props=m,a.__v=e,a.__P=o,E=_.__r,Ft=0,"prototype"in T&&T.prototype.render){for(a.state=a.__s,a.__d=!1,E&&E(e),d=a.render(a.props,a.state,a.context),tt=0;tt<a._sb.length;tt++)a.__h.push(a._sb[tt]);a._sb=[]}else do a.__d=!1,E&&E(e),d=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++Ft<25);a.state=a.__s,a.getChildContext!=null&&(n=R(R({},n),a.getChildContext())),l||a.getSnapshotBeforeUpdate==null||(v=a.getSnapshotBeforeUpdate(p,f)),et=d!=null&&d.type===A&&d.key==null?d.props.children:d,le(o,Array.isArray(et)?et:[et],e,t,n,i,r,s,c,u),a.base=e.__e,e.__h=null,a.__h.length&&s.push(a),I&&(a.__E=a.__=null),a.__e=!1}else r==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Le(t.__e,e,t,n,i,r,s,u);(d=_.diffed)&&d(e)}catch(nt){e.__v=null,(u||r!=null)&&(e.__e=c,e.__h=!!u,r[r.indexOf(c)]=null),_.__e(nt,e,t)}}function pe(o,e){_.__c&&_.__c(e,o),o.some(function(t){try{o=t.__h,t.__h=[],o.some(function(n){n.call(t)})}catch(n){_.__e(n,t.__v)}})}function Le(o,e,t,n,i,r,s,c){var u,d,a,l=t.props,p=e.props,f=e.type,v=0;if(f==="svg"&&(i=!0),r!=null){for(;v<r.length;v++)if((u=r[v])&&"setAttribute"in u==!!f&&(f?u.localName===f:u.nodeType===3)){o=u,r[v]=null;break}}if(o==null){if(f===null)return document.createTextNode(p);o=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),r=null,c=!1}if(f===null)l===p||c&&o.data===p||(o.data=p);else{if(r=r&&pt.call(o.childNodes),d=(l=t.props||ct).dangerouslySetInnerHTML,a=p.dangerouslySetInnerHTML,!c){if(r!=null)for(l={},v=0;v<o.attributes.length;v++)l[o.attributes[v].name]=o.attributes[v].value;(a||d)&&(a&&(d&&a.__html==d.__html||a.__html===o.innerHTML)||(o.innerHTML=a&&a.__html||""))}if(Ae(o,p,l,i,c),a)e.__k=[];else if(v=e.props.children,le(o,Array.isArray(v)?v:[v],e,t,n,i&&f!=="foreignObject",r,s,r?r[0]:t.__k&&V(t,0),c),r!=null)for(v=r.length;v--;)r[v]!=null&&ce(r[v]);c||("value"in p&&(v=p.value)!==void 0&&(v!==o.value||f==="progress"&&!v||f==="option"&&v!==l.value)&&ut(o,"value",v,l.value,!1),"checked"in p&&(v=p.checked)!==void 0&&v!==o.checked&&ut(o,"checked",v,l.checked,!1))}return o}function fe(o,e,t){try{typeof o=="function"?o(e):o.current=e}catch(n){_.__e(n,t)}}function ve(o,e,t){var n,i;if(_.unmount&&_.unmount(o),(n=o.ref)&&(n.current&&n.current!==o.__e||fe(n,null,e)),(n=o.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(r){_.__e(r,e)}n.base=n.__P=null,o.__c=void 0}if(n=o.__k)for(i=0;i<n.length;i++)n[i]&&ve(n[i],e,t||typeof o.type!="function");t||o.__e==null||ce(o.__e),o.__=o.__e=o.__d=void 0}function Ne(o,e,t){return this.constructor(o,t)}function je(o,e,t){var n,i,r;_.__&&_.__(o,e),i=(n=typeof t=="function")?null:t&&t.__k||e.__k,r=[],Et(e,o=(!n&&t||e).__k=ae(A,null,[o]),i||ct,ct,e.ownerSVGElement!==void 0,!n&&t?[t]:i?null:e.firstChild?pt.call(e.childNodes):null,r,!n&&t?t:i?i.__e:e.firstChild,n),pe(r,o)}function Ue(o,e){var t={__c:e="__cC"+re++,__:o,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,r;return this.getChildContext||(i=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(Ct)},this.sub=function(s){i.push(s);var c=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),c&&c.call(s)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}pt=se.slice,_={__e:function(o,e,t,n){for(var i,r,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(o)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(o,n||{}),s=i.__d),s)return i.__E=i}catch(c){o=c}throw o}},ie=0,W.prototype.setState=function(o,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof o=="function"&&(o=o(R({},t),this.props)),o&&R(t,o),o!=null&&this.__v&&(e&&this._sb.push(e),Ct(this))},W.prototype.forceUpdate=function(o){this.__v&&(this.__e=!0,o&&this.__h.push(o),Ct(this))},W.prototype.render=A,M=[],at.__r=0,re=0;var F,y,mt,Gt,z=0,_e=[],rt=[],Vt=_.__b,zt=_.__r,Jt=_.diffed,Kt=_.__c,qt=_.unmount;function Q(o,e){_.__h&&_.__h(y,o,z||e),z=0;var t=y.__H||(y.__H={__:[],__h:[]});return o>=t.__.length&&t.__.push({__V:rt}),t.__[o]}function L(o){return z=1,De(me,o)}function De(o,e,t){var n=Q(F++,2);if(n.t=o,!n.__c&&(n.__=[t?t(e):me(void 0,e),function(r){var s=n.__N?n.__N[0]:n.__[0],c=n.t(s,r);s!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=y,!y.u)){y.u=!0;var i=y.shouldComponentUpdate;y.shouldComponentUpdate=function(r,s,c){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(a){return a.__c});if(u.every(function(a){return!a.__N}))return!i||i.call(this,r,s,c);var d=!1;return u.forEach(function(a){if(a.__N){var l=a.__[0];a.__=a.__N,a.__N=void 0,l!==a.__[0]&&(d=!0)}}),!(!d&&n.__c.props===r)&&(!i||i.call(this,r,s,c))}}return n.__N||n.__}function J(o,e){var t=Q(F++,3);!_.__s&&$t(t.__H,e)&&(t.__=o,t.i=e,y.__H.__h.push(t))}function It(o,e){var t=Q(F++,4);!_.__s&&$t(t.__H,e)&&(t.__=o,t.i=e,y.__h.push(t))}function ft(o){return z=5,D(function(){return{current:o}},[])}function D(o,e){var t=Q(F++,7);return $t(t.__H,e)?(t.__V=o(),t.i=e,t.__h=o,t.__V):t.__}function yt(o,e){return z=8,D(function(){return o},e)}function Fe(o){var e=y.context[o.__c],t=Q(F++,9);return t.c=o,e?(t.__==null&&(t.__=!0,e.sub(y)),e.props.value):o.__}function He(){for(var o;o=_e.shift();)if(o.__P&&o.__H)try{o.__H.__h.forEach(st),o.__H.__h.forEach(kt),o.__H.__h=[]}catch(e){o.__H.__h=[],_.__e(e,o.__v)}}_.__b=function(o){y=null,Vt&&Vt(o)},_.__r=function(o){zt&&zt(o),F=0;var e=(y=o.__c).__H;e&&(mt===y?(e.__h=[],y.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=rt,t.__N=t.i=void 0})):(e.__h.forEach(st),e.__h.forEach(kt),e.__h=[])),mt=y},_.diffed=function(o){Jt&&Jt(o);var e=o.__c;e&&e.__H&&(e.__H.__h.length&&(_e.push(e)!==1&&Gt===_.requestAnimationFrame||((Gt=_.requestAnimationFrame)||Me)(He)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==rt&&(t.__=t.__V),t.i=void 0,t.__V=rt})),mt=y=null},_.__c=function(o,e){e.some(function(t){try{t.__h.forEach(st),t.__h=t.__h.filter(function(n){return!n.__||kt(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],_.__e(n,t.__v)}}),Kt&&Kt(o,e)},_.unmount=function(o){qt&&qt(o);var e,t=o.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{st(n)}catch(i){e=i}}),t.__H=void 0,e&&_.__e(e,t.__v))};var Qt=typeof requestAnimationFrame=="function";function Me(o){var e,t=function(){clearTimeout(n),Qt&&cancelAnimationFrame(e),setTimeout(o)},n=setTimeout(t,100);Qt&&(e=requestAnimationFrame(t))}function st(o){var e=y,t=o.__c;typeof t=="function"&&(o.__c=void 0,t()),y=e}function kt(o){var e=y;o.__c=o.__(),y=e}function $t(o,e){return!o||o.length!==e.length||e.some(function(t,n){return t!==o[n]})}function me(o,e){return typeof e=="function"?e(o):e}function gt(o,e){return o===e&&(o!==0||1/o===1/e)||o!==o&&e!==e}function We(o,e){const t=e(),[{_instance:n},i]=L({_instance:{_value:t,_getSnapshot:e}});return It(()=>{n._value=t,n._getSnapshot=e,gt(n._value,e())||i({_instance:n})},[o,t,e]),J(()=>(gt(n._value,n._getSnapshot())||i({_instance:n}),o(()=>{gt(n._value,n._getSnapshot())||i({_instance:n})})),[o]),t}const ye=o=>{const e=ft([o,(...t)=>e[0](...t)]).current;return It(()=>{e[0]=o}),e[1]},Be=(o="",e=location.pathname)=>e.toLowerCase().indexOf(o.toLowerCase())?"~"+e:e.slice(o.length)||"/",Ge=(o,e="")=>o[0]==="~"?o.slice(1):e+o,Ve="popstate",Rt="pushState",At="replaceState",ze="hashchange",Zt=[Ve,Rt,At,ze],Je=o=>{for(const e of Zt)addEventListener(e,o);return()=>{for(const e of Zt)removeEventListener(e,o)}},Ke=o=>We(Je,o),qe=()=>location.pathname,Qe=()=>Ke(qe),Ze=(o,{replace:e=!1}={})=>history[e?At:Rt](null,"",o),Xe=(o={})=>[Be(o.base,Qe()),ye((e,t)=>Ze(Ge(e,o.base),t))];if(typeof history<"u")for(const o of[Rt,At]){const e=history[o];history[o]=function(){const t=e.apply(this,arguments),n=new Event(o);return n.arguments=arguments,dispatchEvent(n),t}}function Ye(o=en){let e={};const t=n=>e[n]||(e[n]=o(n));return(n,i)=>{const{regexp:r,keys:s}=t(n||""),c=r.exec(i);return c?[!0,s.reduce((d,a,l)=>(d[a.name]=c[l+1],d),{})]:[!1,null]}}const Xt=o=>o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),tn=(o,e,t)=>{let n=o?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&t&&(n="(?:\\/"+n+")"),n+(e?"?":"")},en=o=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let t=null,n=0,i=[],r="";for(;(t=e.exec(o))!==null;){const[s,c,u]=t,d=u==="+"||u==="*",a=u==="?"||u==="*",l=a&&o[t.index-1]==="/"?1:0,p=o.substring(n,t.index-l);i.push({name:c}),n=e.lastIndex,r+=Xt(p)+tn(d,a,l)}return r+=Xt(o.substring(n)),{keys:i,regexp:new RegExp("^"+r+"(?:\\/)?$","i")}},nn={hook:Xe,matcher:Ye(),base:""},on=Ue(nn),ge=()=>Fe(on),be=o=>o.hook(o),we=()=>be(ge()),rn=o=>{const e=ge(),[t]=be(e);return e.matcher(o,t)},bt=({path:o,match:e,component:t,children:n})=>{const i=rn(o),[r,s]=e||i;return r?t?ae(t,{params:s}):typeof n=="function"?n(s):n:null},Se=o=>{const{to:e,href:t=e}=o,[,n]=we(),i=ye(()=>n(e||t,o));return It(()=>{i()},[]),null};function vt(){throw new Error("Cycle detected")}function Lt(){if(U>1)U--;else{for(var o,e=!1;B!==void 0;){var t=B;for(B=void 0,xt++;t!==void 0;){var n=t.o;if(t.o=void 0,t.f&=-3,!(8&t.f)&&ke(t))try{t.c()}catch(i){e||(o=i,e=!0)}t=n}}if(xt=0,U--,e)throw o}}var g=void 0,B=void 0,U=0,xt=0,lt=0;function Ce(o){if(g!==void 0){var e=o.n;if(e===void 0||e.t!==g)return e={i:0,S:o,p:g.s,n:void 0,t:g,e:void 0,x:void 0,r:e},g.s!==void 0&&(g.s.n=e),g.s=e,o.n=e,32&g.f&&o.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=g.s,e.n=void 0,g.s.n=e,g.s=e),e}}function O(o){this.v=o,this.i=0,this.n=void 0,this.t=void 0}O.prototype.h=function(){return!0};O.prototype.S=function(o){this.t!==o&&o.e===void 0&&(o.x=this.t,this.t!==void 0&&(this.t.e=o),this.t=o)};O.prototype.U=function(o){if(this.t!==void 0){var e=o.e,t=o.x;e!==void 0&&(e.x=t,o.e=void 0),t!==void 0&&(t.e=e,o.x=void 0),o===this.t&&(this.t=t)}};O.prototype.subscribe=function(o){var e=this;return _t(function(){var t=e.value,n=32&this.f;this.f&=-33;try{o(t)}finally{this.f|=n}})};O.prototype.valueOf=function(){return this.value};O.prototype.toString=function(){return this.value+""};O.prototype.peek=function(){return this.v};Object.defineProperty(O.prototype,"value",{get:function(){var o=Ce(this);return o!==void 0&&(o.i=this.i),this.v},set:function(o){if(o!==this.v){xt>100&&vt(),this.v=o,this.i++,lt++,U++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Lt()}}}});function N(o){return new O(o)}function ke(o){for(var e=o.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function xe(o){for(var e=o.s;e!==void 0;e=e.n){var t=e.S.n;if(t!==void 0&&(e.r=t),e.S.n=e,e.i=-1,e.n===void 0){o.s=e;break}}}function Oe(o){for(var e=o.s,t=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}o.s=t}function j(o){O.call(this,void 0),this.x=o,this.s=void 0,this.g=lt-1,this.f=4}(j.prototype=new O).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===lt))return!0;if(this.g=lt,this.f|=1,this.i>0&&!ke(this))return this.f&=-2,!0;var o=g;try{xe(this),g=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return g=o,Oe(this),this.f&=-2,!0};j.prototype.S=function(o){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}O.prototype.S.call(this,o)};j.prototype.U=function(o){if(this.t!==void 0&&(O.prototype.U.call(this,o),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};j.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var o=this.t;o!==void 0;o=o.x)o.t.N()}};j.prototype.peek=function(){if(this.h()||vt(),16&this.f)throw this.v;return this.v};Object.defineProperty(j.prototype,"value",{get:function(){1&this.f&&vt();var o=Ce(this);if(this.h(),o!==void 0&&(o.i=this.i),16&this.f)throw this.v;return this.v}});function sn(o){return new j(o)}function Te(o){var e=o.u;if(o.u=void 0,typeof e=="function"){U++;var t=g;g=void 0;try{e()}catch(n){throw o.f&=-2,o.f|=8,Nt(o),n}finally{g=t,Lt()}}}function Nt(o){for(var e=o.s;e!==void 0;e=e.n)e.S.U(e);o.x=void 0,o.s=void 0,Te(o)}function cn(o){if(g!==this)throw new Error("Out-of-order effect");Oe(this),g=o,this.f&=-2,8&this.f&&Nt(this),Lt()}function Z(o){this.x=o,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}Z.prototype.c=function(){var o=this.S();try{!(8&this.f)&&this.x!==void 0&&(this.u=this.x())}finally{o()}};Z.prototype.S=function(){1&this.f&&vt(),this.f|=1,this.f&=-9,Te(this),xe(this),U++;var o=g;return g=this,cn.bind(this,o)};Z.prototype.N=function(){2&this.f||(this.f|=2,this.o=B,B=this)};Z.prototype.d=function(){this.f|=8,1&this.f||Nt(this)};function _t(o){var e=new Z(o);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}var wt;function H(o,e){_[o]=e.bind(null,_[o]||function(){})}function dt(o){wt&&wt(),wt=o&&o.S()}function Pe(o){var e=this,t=o.data,n=Ot(t);n.value=t;var i=D(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){e.base.data=i.peek()},sn(function(){var s=n.value.value;return s===0?0:s===!0?"":s||""})},[]);return i.value}Pe.displayName="_st";Object.defineProperties(O.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Pe},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});H("__b",function(o,e){if(typeof e.type=="string"){var t,n=e.props;for(var i in n)if(i!=="children"){var r=n[i];r instanceof O&&(t||(e.__np=t={}),t[i]=r,n[i]=r.peek())}}o(e)});H("__r",function(o,e){dt();var t,n=e.__c;n&&(n.__$f&=-2,(t=n.__$u)===void 0&&(n.__$u=t=function(i){var r;return _t(function(){r=this}),r.c=function(){n.__$f|=1,n.setState({})},r}())),dt(t),o(e)});H("__e",function(o,e,t,n){dt(),o(e,t,n)});H("diffed",function(o,e){dt();var t;if(typeof e.type=="string"&&(t=e.__e)){var n=e.__np,i=e.props;if(n){var r=t.U;if(r)for(var s in r){var c=r[s];c!==void 0&&!(s in n)&&(c.d(),r[s]=void 0)}else t.U=r={};for(var u in n){var d=r[u],a=n[u];d===void 0?(d=an(t,u,a,i),r[u]=d):d.o(a,i)}}}o(e)});function an(o,e,t,n){var i=e in o&&o.ownerSVGElement===void 0,r=N(t);return{o:function(s,c){r.value=s,n=c},d:_t(function(){var s=r.value.value;n[e]!==s&&(n[e]=s,i?o[e]=s:s?o.setAttribute(e,s):o.removeAttribute(e))})}}H("unmount",function(o,e){if(typeof e.type=="string"){var t=e.__e;if(t){var n=t.U;if(n){t.U=void 0;for(var i in n){var r=n[i];r&&r.d()}}}}else{var s=e.__c;if(s){var c=s.__$u;c&&(s.__$u=void 0,c.d())}}o(e)});H("__h",function(o,e,t,n){n<3&&(e.__$f|=2),o(e,t,n)});W.prototype.shouldComponentUpdate=function(o,e){var t=this.__$u;if(!(t&&t.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var n in e)return!0;for(var i in o)if(i!=="__source"&&o[i]!==this.props[i])return!0;for(var r in this.props)if(!(r in o))return!0;return!1};function Ot(o){return D(function(){return N(o)},[])}var Tt=function(o,e){return Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Tt(o,e)};function C(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=o}Tt(o,e),o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pt=function(){return Pt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Pt.apply(this,arguments)};function k(o,e,t,n){return new(t||(t=Promise))(function(i,r){function s(d){try{u(n.next(d))}catch(a){r(a)}}function c(d){try{u(n.throw(d))}catch(a){r(a)}}function u(d){d.done?i(d.value):function(l){return l instanceof t?l:new t(function(p){p(l)})}(d.value).then(s,c)}u((n=n.apply(o,e||[])).next())})}function x(o,e){var t,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function c(u){return function(d){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,n=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){s=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(l[0]===6&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=e.call(o,s)}catch(p){l=[6,p],n=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,d])}}}var Ee,K=function(o){function e(t){var n,i,r,s,c=this;return(c=o.call(this,"ClientResponseError")||this).url="",c.status=0,c.data={},c.isAbort=!1,c.originalError=null,Object.setPrototypeOf(c,e.prototype),t instanceof e||(c.originalError=t),t!==null&&typeof t=="object"&&(c.url=typeof t.url=="string"?t.url:"",c.status=typeof t.status=="number"?t.status:0,c.data=t.data!==null&&typeof t.data=="object"?t.data:{}),typeof DOMException<"u"&&t instanceof DOMException&&(c.isAbort=!0),c.name="ClientResponseError "+c.status,c.message=(n=c.data)===null||n===void 0?void 0:n.message,c.message||(c.isAbort?c.message="The request was autocancelled. More info you could find in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((s=(r=(i=c.originalError)===null||i===void 0?void 0:i.cause)===null||r===void 0?void 0:r.message)===null||s===void 0)&&s.includes("ECONNREFUSED ::1")?c.message="Failed to connect to the PocketBase server. Try replacing the SDK url from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":c.message="Something went wrong while processing your request."),c}return C(e,o),e.prototype.toJSON=function(){return Pt({},this)},e}(Error),ot=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Yt(o,e,t){var n=Object.assign({},t||{}),i=n.encode||ln;if(!ot.test(o))throw new TypeError("argument name is invalid");var r=i(e);if(r&&!ot.test(r))throw new TypeError("argument val is invalid");var s=o+"="+r;if(n.maxAge!=null){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(n.domain){if(!ot.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!ot.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!function(d){return Object.prototype.toString.call(d)==="[object Date]"||d instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function un(o){return o.indexOf("%")!==-1?decodeURIComponent(o):o}function ln(o){return encodeURIComponent(o)}function te(o){if(o)try{var e=decodeURIComponent(Ee(o.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}Ee=typeof atob=="function"?atob:function(o){var e=String(o).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,r=0,s="";n=e.charAt(r++);~n&&(t=i%4?64*t+n:n,i++%4)?s+=String.fromCharCode(255&t>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};var X=function(){function o(e){e===void 0&&(e={}),this.load(e||{})}return o.prototype.load=function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var i=n[t],r=i[0],s=i[1];this[r]=s}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(o.prototype,"isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),o.prototype.clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},o.prototype.export=function(){return Object.assign({},this)},o}(),ht=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this.loadExpand(t.expand)},e.prototype.loadExpand=function(t){for(var n in t=t||{},this.expand={},t)Array.isArray(t[n])?this.expand[n]=t[n].map(function(i){return new e(i||{})}):this.expand[n]=new e(t[n]||{})},e}(X),jt=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}(X),dn=function(){function o(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(o.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isValid",{get:function(){return!function(t,n){n===void 0&&(n=0);var i=te(t);return!(Object.keys(i).length>0&&(!i.exp||i.exp-n>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),o.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new ht(t):new jt(t):null,this.triggerChange()},o.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},o.prototype.loadFromCookie=function(e,t){t===void 0&&(t="pb_auth");var n=function(s,c){var u={};if(typeof s!="string")return u;for(var d=Object.assign({},c||{}).decode||un,a=0;a<s.length;){var l=s.indexOf("=",a);if(l===-1)break;var p=s.indexOf(";",a);if(p===-1)p=s.length;else if(p<l){a=s.lastIndexOf(";",l-1)+1;continue}var f=s.slice(a,l).trim();if(u[f]===void 0){var v=s.slice(l+1,p).trim();v.charCodeAt(0)===34&&(v=v.slice(1,-1));try{u[f]=d(v)}catch{u[f]=v}}a=p+1}return u}(e||"")[t]||"",i={};try{(typeof(i=JSON.parse(n))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},o.prototype.exportToCookie=function(e,t){var n,i,r;t===void 0&&(t="pb_auth");var s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},c=te(this.token);c!=null&&c.exp?s.expires=new Date(1e3*c.exp):s.expires=new Date("1970-01-01"),e=Object.assign({},s,e);var u={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},d=Yt(t,JSON.stringify(u),e),a=typeof Blob<"u"?new Blob([d]).size:d.length;return u.model&&a>4096&&(u.model={id:(i=u==null?void 0:u.model)===null||i===void 0?void 0:i.id,email:(r=u==null?void 0:u.model)===null||r===void 0?void 0:r.email},this.model instanceof ht&&(u.model.username=this.model.username,u.model.verified=this.model.verified,u.model.collectionId=this.model.collectionId),d=Yt(t,JSON.stringify(u),e)),d},o.prototype.onChange=function(e,t){var n=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var i=n._onChangeCallbacks.length-1;i>=0;i--)if(n._onChangeCallbacks[i]==e)return delete n._onChangeCallbacks[i],void n._onChangeCallbacks.splice(i,1)}},o.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var n=t[e];n&&n(this.token,this.model)}},o}(),hn=function(o){function e(t){t===void 0&&(t="pocketbase_auth");var n=o.call(this)||this;return n.storageFallback={},n.storageKey=t,n}return C(e,o),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((t=n.model)===null||t===void 0?void 0:t.collectionId)===void 0?new jt(n.model):new ht(n.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,n){this._storageSet(this.storageKey,{token:t,model:n}),o.prototype.save.call(this,t,n)},e.prototype.clear=function(){this._storageRemove(this.storageKey),o.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]},e.prototype._storageSet=function(t,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),window.localStorage.setItem(t,i)}else this.storageFallback[t]=n},e.prototype._storageRemove=function(t){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)===null||n===void 0||n.removeItem(t)),delete this.storageFallback[t]},e}(dn),Y=function(e){this.client=e},pn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(n){return n||{}})},e.prototype.update=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:t}).then(function(i){return i||{}})},e.prototype.testS3=function(t){return t===void 0&&(t={}),this.client.send("/api/settings/test/s3",{method:"POST",params:t}).then(function(){return!0})},e.prototype.testEmail=function(t,n,i){i===void 0&&(i={});var r={email:t,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:r}).then(function(){return!0})},e}(Y),Ie=function(e,t,n,i,r){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=n>=0?n:0,this.totalPages=i>=0?i:0,this.items=r||[]},Ut=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getFullList=function(t,n){return t===void 0&&(t=200),n===void 0&&(n={}),this._getFullList(this.baseCrudPath,t,n)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),this._getFirstListItem(this.baseCrudPath,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this._create(this.baseCrudPath,t,n)},e.prototype.update=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),this._update(this.baseCrudPath,t,n,i)},e.prototype.delete=function(t,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath,t,n)},e}(function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype._getFullList=function(t,n,i){var r=this;n===void 0&&(n=100),i===void 0&&(i={});var s=[],c=function(u){return k(r,void 0,void 0,function(){return x(this,function(d){return[2,this._getList(t,u,n,i).then(function(a){var l=a,p=l.items,f=l.totalItems;return s=s.concat(p),p.length&&f>s.length?c(u+1):s})]})})};return c(1)},e.prototype._getList=function(t,n,i,r){var s=this;return n===void 0&&(n=1),i===void 0&&(i=30),r===void 0&&(r={}),r=Object.assign({page:n,perPage:i},r),this.client.send(t,{method:"GET",params:r}).then(function(c){var u=[];if(c!=null&&c.items){c.items=c.items||[];for(var d=0,a=c.items;d<a.length;d++){var l=a[d];u.push(s.decode(l))}}return new Ie((c==null?void 0:c.page)||1,(c==null?void 0:c.perPage)||0,(c==null?void 0:c.totalItems)||0,(c==null?void 0:c.totalPages)||0,u)})},e.prototype._getOne=function(t,n,i){var r=this;return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"GET",params:i}).then(function(s){return r.decode(s)})},e.prototype._getFirstListItem=function(t,n,i){return i===void 0&&(i={}),i=Object.assign({filter:n,$cancelKey:"one_by_filter_"+t+"_"+n},i),this._getList(t,1,1,i).then(function(r){var s;if(!(!((s=r==null?void 0:r.items)===null||s===void 0)&&s.length))throw new K({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})},e.prototype._create=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),this.client.send(t,{method:"POST",params:i,body:n}).then(function(s){return r.decode(s)})},e.prototype._update=function(t,n,i,r){var s=this;return i===void 0&&(i={}),r===void 0&&(r={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"PATCH",params:r,body:i}).then(function(c){return s.decode(c)})},e.prototype._delete=function(t,n,i){return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e}(Y)),fn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.decode=function(t){return new jt(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),o.prototype.update.call(this,t,n,i).then(function(s){var c,u;return r.client.authStore.model&&((c=r.client.authStore.model)===null||c===void 0?void 0:c.collectionId)===void 0&&((u=r.client.authStore.model)===null||u===void 0?void 0:u.id)===(s==null?void 0:s.id)&&r.client.authStore.save(r.client.authStore.token,s),s})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),o.prototype.delete.call(this,t,n).then(function(r){var s,c;return r&&i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((c=i.client.authStore.model)===null||c===void 0?void 0:c.id)===t&&i.client.authStore.clear(),r})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})},e.prototype.authWithPassword=function(t,n,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:r,body:i}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,r,s){return r===void 0&&(r={}),s===void 0&&(s={}),r=Object.assign({token:t,password:n,passwordConfirm:i},r),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:s,body:r}).then(function(){return!0})},e}(Ut),vn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}(X),_n=function(o){function e(t,n){var i=o.call(this,t)||this;return i.collectionIdOrName=n,i}return C(e,o),e.prototype.decode=function(t){return new ht(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,n){return k(this,void 0,void 0,function(){return x(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n)]})})},e.prototype.subscribe=function(t,n){return k(this,void 0,void 0,function(){var i;return x(this,function(r){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!n)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,t!=="*"&&(i+="/"+t),[2,this.client.realtime.subscribe(i,n)]})})},e.prototype.unsubscribe=function(t){return k(this,void 0,void 0,function(){return x(this,function(n){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,n){return t===void 0&&(t=200),n===void 0&&(n={}),o.prototype.getFullList.call(this,t,n)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),o.prototype.getList.call(this,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),o.prototype.getFirstListItem.call(this,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),o.prototype.getOne.call(this,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),o.prototype.create.call(this,t,n)},e.prototype.update=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),o.prototype.update.call(this,t,n,i).then(function(s){var c,u;return((c=r.client.authStore.model)===null||c===void 0?void 0:c.collectionId)!==void 0&&((u=r.client.authStore.model)===null||u===void 0?void 0:u.id)===(s==null?void 0:s.id)&&r.client.authStore.save(r.client.authStore.token,s),s})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),o.prototype.delete.call(this,t,n).then(function(r){var s,c;return r&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==void 0&&((c=i.client.authStore.model)===null||c===void 0?void 0:c.id)===t&&i.client.authStore.clear(),r})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(n){return Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},e.prototype.authWithPassword=function(t,n,i,r){var s=this;return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:r,body:i}).then(function(c){return s.authResponse(c)})},e.prototype.authWithOAuth2=function(t,n,i,r,s,c,u){var d=this;return s===void 0&&(s={}),c===void 0&&(c={}),u===void 0&&(u={}),c=Object.assign({provider:t,code:n,codeVerifier:i,redirectUrl:r,createData:s},c),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:u,body:c}).then(function(a){return d.authResponse(a)})},e.prototype.authRefresh=function(t,n){var i=this;return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(function(r){return i.authResponse(r)})},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,r,s){return r===void 0&&(r={}),s===void 0&&(s={}),r=Object.assign({token:t,password:n,passwordConfirm:i},r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:s,body:r}).then(function(){return!0})},e.prototype.requestVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({token:t},n),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({newEmail:t},n),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,n,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:t,password:n},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:r,body:i}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:n}).then(function(i){var r=[];if(Array.isArray(i))for(var s=0,c=i;s<c.length;s++){var u=c[s];r.push(new vn(u))}return r})},e.prototype.unlinkExternalAuth=function(t,n,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e}(Ut),mn=function(){function o(e){e===void 0&&(e={}),this.load(e||{})}return o.prototype.load=function(e){this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.unique=!!e.unique,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},o}(),yn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0?t.options:{},this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var n=0,i=t.schema;n<i.length;n++){var r=i[n];this.schema.push(new mn(r))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSingle",{get:function(){return this.type==="single"},enumerable:!1,configurable:!0}),e}(X),gn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.decode=function(t){return new yn(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,n,i){return n===void 0&&(n=!1),i===void 0&&(i={}),k(this,void 0,void 0,function(){return x(this,function(r){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:t,deleteMissing:n}}).then(function(){return!0})]})})},e}(Ut),ee=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}(X),bn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getRequestsList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),i=Object.assign({page:t,perPage:n},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(r){var s=[];if(r!=null&&r.items){r.items=(r==null?void 0:r.items)||[];for(var c=0,u=r.items;c<u.length;c++){var d=u[c];s.push(new ee(d))}}return new Ie((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,s)})},e.prototype.getRequest=function(t,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:n}).then(function(i){return new ee(i)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(n){return n})},e}(Y),wn=function(o){function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return C(e,o),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,n){var i;return k(this,void 0,void 0,function(){var r,s=this;return x(this,function(c){switch(c.label){case 0:if(!t)throw new Error("topic must be set.");return r=function(u){var d,a=u;try{d=JSON.parse(a==null?void 0:a.data)}catch{}n(d||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(r),this.isConnected?[3,2]:[4,this.connect()];case 1:return c.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return c.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(t,r),c.label=5;case 5:return[2,function(){return k(s,void 0,void 0,function(){return x(this,function(u){return[2,this.unsubscribeByTopicAndListener(t,r)]})})}]}})})},e.prototype.unsubscribe=function(t){var n;return k(this,void 0,void 0,function(){var i,r,s;return x(this,function(c){switch(c.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(i=0,r=this.subscriptions[t];i<r.length;i++)s=r[i],(n=this.eventSource)===null||n===void 0||n.removeEventListener(t,s);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:c.sent(),c.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var n;return k(this,void 0,void 0,function(){var i,r,s,c,u;return x(this,function(d){switch(d.label){case 0:for(r in i=!1,this.subscriptions)if(r.startsWith(t)){for(i=!0,s=0,c=this.subscriptions[r];s<c.length;s++)u=c[s],(n=this.eventSource)===null||n===void 0||n.removeEventListener(r,u);delete this.subscriptions[r]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return d.sent(),[3,3];case 2:this.disconnect(),d.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,n){var i;return k(this,void 0,void 0,function(){var r,s;return x(this,function(c){switch(c.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(r=!1,s=this.subscriptions[t].length-1;s>=0;s--)this.subscriptions[t][s]===n&&(r=!0,delete this.subscriptions[t][s],this.subscriptions[t].splice(s,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,n));return r?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:c.sent(),c.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var n,i;if(this.subscriptions=this.subscriptions||{},t)return!!(!((n=this.subscriptions[t])===null||n===void 0)&&n.length);for(var r in this.subscriptions)if(!((i=this.subscriptions[r])===null||i===void 0)&&i.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return k(this,void 0,void 0,function(){return x(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(n){if(!(n!=null&&n.isAbort))throw n})]):[2]})})},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var r=i[n];this.eventSource.addEventListener(t,r)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var r=i[n];this.eventSource.removeEventListener(t,r)}},e.prototype.connect=function(){return k(this,void 0,void 0,function(){var t=this;return x(this,function(n){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,r){t.pendingConnects.push({resolve:i,reject:r}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(n){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(n){var i=n;t.clientId=i==null?void 0:i.lastEventId,t.submitSubscriptions().then(function(){return k(t,void 0,void 0,function(){var r;return x(this,function(s){switch(s.label){case 0:r=3,s.label=1;case 1:return this.hasUnsentSubscriptions()&&r>0?(r--,[4,this.submitSubscriptions()]):[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var r=0,s=t.pendingConnects;r<s.length;r++)s[r].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(r){t.clientId="",t.connectErrorHandler(r)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!this.lastSentTopics.includes(r))return!0}return!1},e.prototype.connectErrorHandler=function(t){var n=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,r=this.pendingConnects;i<r.length;i++)r[i].reject(new K(t));this.disconnect()}else{this.disconnect(!0);var s=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){n.initConnect()},s)}},e.prototype.disconnect=function(t){var n;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var i=new K(new Error("Realtime disconnected.")),r=0,s=this.pendingConnects;r<s.length;r++)s[r].reject(i);this.pendingConnects=[]}},e}(Y),Sn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(Y),Cn=function(){function o(e,t,n){e===void 0&&(e="/"),n===void 0&&(n="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new hn,this.admins=new fn(this),this.collections=new gn(this),this.logs=new bn(this),this.settings=new pn(this),this.realtime=new wn(this),this.health=new Sn(this)}return o.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new _n(this,e)),this.recordServices[e]},o.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},o.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},o.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},o.prototype.send=function(e,t){var n,i,r,s,c,u,d,a;return k(this,void 0,void 0,function(){var l,p,f,v,I,m=this;return x(this,function(S){return(l=Object.assign({method:"GET"},t)).body&&l.body.constructor.name!=="FormData"&&(typeof l.body!="string"&&(l.body=JSON.stringify(l.body)),((n=l==null?void 0:l.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(l.headers=Object.assign({},l.headers,{"Content-Type":"application/json"}))),((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(l.headers=Object.assign({},l.headers,{"Accept-Language":this.lang})),!((r=this.authStore)===null||r===void 0)&&r.token&&((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s.Authorization)===void 0&&(l.headers=Object.assign({},l.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((c=l.params)===null||c===void 0?void 0:c.$autoCancel)!==!1&&(p=((u=l.params)===null||u===void 0?void 0:u.$cancelKey)||(l.method||"GET")+e,this.cancelRequest(p),f=new AbortController,this.cancelControllers[p]=f,l.signal=f.signal),(d=l.params)===null||d===void 0||delete d.$autoCancel,(a=l.params)===null||a===void 0||delete a.$cancelKey,v=this.buildUrl(e),l.params!==void 0&&((I=this.serializeQueryParams(l.params))&&(v+=(v.includes("?")?"&":"?")+I),delete l.params),this.beforeSend&&(l=Object.assign({},this.beforeSend(v,l))),[2,fetch(v,l).then(function(w){return k(m,void 0,void 0,function(){var P;return x(this,function(E){switch(E.label){case 0:P={},E.label=1;case 1:return E.trys.push([1,3,,4]),[4,w.json()];case 2:return P=E.sent(),[3,4];case 3:return E.sent(),[3,4];case 4:if(this.afterSend&&(P=this.afterSend(w,P)),w.status>=400)throw new K({url:w.url,status:w.status,data:P});return[2,P]}})})}).catch(function(w){throw new K(w)})]})})},o.prototype.getFileUrl=function(e,t,n){n===void 0&&(n={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));var r=this.buildUrl(i.join("/"));if(Object.keys(n).length){var s=new URLSearchParams(n);r+=(r.includes("?")?"&":"?")+s}return r},o.prototype.buildUrl=function(e){var t=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return e&&(t+=e.startsWith("/")?e.substring(1):e),t},o.prototype.serializeQueryParams=function(e){var t=[];for(var n in e)if(e[n]!==null){var i=e[n],r=encodeURIComponent(n);if(Array.isArray(i))for(var s=0,c=i;s<c.length;s++){var u=c[s];t.push(r+"="+encodeURIComponent(u))}else i instanceof Date?t.push(r+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(r+"="+encodeURIComponent(JSON.stringify(i))):t.push(r+"="+encodeURIComponent(i))}return t.join("&")},o}();console.log("using backend: ","https://beer.tylergregg.me");const b=new Cn("https://beer.tylergregg.me");window.pb=b;const G=N({}),q=N(!1),ne=N(!1);b.authStore.onChange(()=>{var o,e,t,n,i,r,s,c,u,d,a,l,p,f;if(console.log("running auth onchange..."),q.value!==b.authStore.isValid&&(console.log("setting is_authenticated",b.authStore.isValid),q.value=b.authStore.isValid),!((o=G.value)!=null&&o.id)&&!ne.value)try{console.log("running auth refresh"),ne.value=!0,b.collection("users").authRefresh()}catch{}((t=(e=b.authStore)==null?void 0:e.baseModel)==null?void 0:t.id)!==((n=G.value)==null?void 0:n.id)&&(console.log("setting user_data to",(r=(i=b.authStore)==null?void 0:i.baseModel)==null?void 0:r.id),G.value=(c=(s=b.authStore)==null?void 0:s.baseModel)!=null&&c.id?{id:(d=(u=b.authStore)==null?void 0:u.baseModel)==null?void 0:d.id,username:(l=(a=b.authStore)==null?void 0:a.baseModel)==null?void 0:l.username,email:(f=(p=b.authStore)==null?void 0:p.baseModel)==null?void 0:f.email}:{})},!0);_t(()=>{console.log("auth data updated",q.value,G.value)});const kn=async(o,e)=>{try{return await b.collection("users").authWithPassword(o,e),{success:!0}}catch(t){return console.error("failed login",t),{success:!1,error:t}}},xn=()=>b.authStore.clear(),oe=N(0);var On=0;function h(o,e,t,n,i){var r,s,c={};for(s in e)s=="ref"?r=e[s]:c[s]=e[s];var u={type:o,props:c,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--On,__source:i,__self:n};if(typeof o=="function"&&(r=o.defaultProps))for(s in r)c[s]===void 0&&(c[s]=r[s]);return _.vnode&&_.vnode(u),u}const St=({children:o,onClick:e})=>h("li",{children:h("a",{href:"#",onClick:e,children:o})}),Tn=()=>{const[o,e]=we(),t=ft(),n=r=>{xn(),r.preventDefault(),t.current.open=!1},i=r=>s=>{s.preventDefault(),e(r),t.current.open=!1};return h("nav",{className:"container-fluid",children:[h("ul",{children:h("li",{children:h("a",{href:"./",className:"contrast",onClick:i("/"),children:h("strong",{children:"beer.tylergregg"})})})}),h("ul",{children:h("li",{children:h("details",{role:"list",dir:"rtl",ref:t,children:[h("summary",{"aria-haspopup":"listbox",role:"link",className:"secondary",children:"Apps"}),h("ul",{role:"listbox",children:[h(St,{onClick:i("/"),children:"Home"}),h(St,{onClick:i("/todos"),children:"Todos"}),h(St,{onClick:n,children:"Sign out"})]})]})})})]})},Dt=({id:o,children:e})=>h("main",{className:"container",...!!o&&{id:o},children:e}),Pn=()=>{const[o,e]=L(""),[t,n]=L(""),i=async()=>{await kn(o,t)};return h("article",{className:"grid",children:[q.value&&h(Se,{to:"/todos"}),h("div",{children:[h("hgroup",{children:[h("h1",{children:"Sign in"}),h("h2",{children:"Lets not get too crazy..."})]}),h("form",{children:[h("input",{type:"text",name:"login",placeholder:"Login","aria-label":"Login",autocomplete:"email",onInput:r=>e(r.target.value),value:o}),h("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autocomplete:"current-password",onInput:r=>n(r.target.value),value:t}),h("fieldset",{children:h("label",{for:"remember",children:[h("input",{type:"checkbox",role:"switch",id:"remember",name:"remember"}),"Remember me"]})}),h("button",{type:"submit",className:"contrast",onClick:r=>{r.preventDefault(),i()},children:"Login"})]})]}),h("div",{})]})},$=N([]),$e=o=>{var s;const e=Ot(!0),t=Ot(null);J(()=>{const{subscription:c,skip:u,...d}=o||{sort:"-created"};u||b.collection("todos").getFullList(200,d).then(a=>{e.value=!1,$.value=a}).catch(a=>{e.value=!1,t.value=a})},[o]);const n=yt(async c=>{try{const u=await b.collection("todos").create({...c,user:G.value.id});return $.value=[u,...$.value],console.log("successfully created todo"),{success:!0}}catch(u){return console.log("could not create todo: ",u),{success:!1,error:u}}},[]),i=yt(async c=>{try{const u=await b.collection("todos").delete(c);return $.value=$.value.filter(d=>d.id!==c),console.log("successfully deleted todo"),{success:!0,data:u}}catch(u){return console.log("could not delete todo: ",u),{success:!1,error:u}}},[]),r=yt(async(c,u)=>{try{console.log("updated todo: ",c,{text:u.text,done:u.done,user:u.user});const d=await b.collection("todos").update(c,u);return $.value=$.value.map(a=>a.id===c?d:a),console.log("successfully updated todo"),{success:!0,data:d}}catch(d){return console.log("could not update todo: ",d),{success:!1,error:d}}},[]);return J(()=>{var c,u,d;if((c=o==null?void 0:o.subscription)!=null&&c.event){const a=((u=o==null?void 0:o.subscription)==null?void 0:u.callback)||(l=>{console.log("subscription event recieved: ",l)});return console.log("subscribing to * todos"),b.collection("todos").subscribe((d=o==null?void 0:o.subscription)==null?void 0:d.event,a),()=>{var l;console.log("unsubscribing to * todos"),b.collection("todos").unsubscribe((l=o==null?void 0:o.subscription)==null?void 0:l.event)}}},[(s=o==null?void 0:o.subscription)==null?void 0:s.run,o]),{loading:e.value,todos:$.value,error:t.value,createTodo:n,deleteTodo:i,updateTodo:r}},En=()=>{const[o,e]=L(null),[t,n]=L(null),[i,r]=L(""),s=ft(),c=D(()=>({subscription:{event:"*"}}),[]),{todos:u,deleteTodo:d,updateTodo:a}=$e(c);console.log(u),J(()=>{var p;r((t==null?void 0:t.text)||""),t!=null&&t.text&&((p=s==null?void 0:s.current)==null||p.focus())},[t==null?void 0:t.text]);const l=D(()=>{const p=u.filter(v=>v.done);return[...u.filter(v=>!v.done),...p]},[u]);return h("section",{id:"preview",children:[l.map(p=>h("article",{onClick:()=>e(f=>f?null:p.id),style:{backgroundColor:"#182530",margin:"calc(var(--block-spacing-vertical)/2) 0",padding:"calc(var(--block-spacing-horizontal)/1.5) calc(var(--block-spacing-horizontal)/1.5)"},children:[p.done&&h("span",{style:{color:"red"},children:"Done!"}),h("p",{children:p.text}),o===p.id&&h("footer",{style:{display:"flex",flexDirection:"row-reverse"},children:[h("button",{onClick:()=>d(p.id),style:{maxWidth:"165px"},children:"Delete"}),h("button",{className:"contrast",onClick:()=>n(p),style:{marginRight:"8px",maxWidth:"165px"},children:"Edit"}),h("button",{onClick:async()=>{await a(p.id,{...p,done:!p.done})},className:"secondary",style:{marginRight:"8px",maxWidth:"165px"},children:p.done?"Undone":"Done"})]})]},p.id)),t&&h($n,{close:()=>n(null),children:[h("p",{children:"Edit your todo"}),h("input",{value:i,onInput:p=>r(p.target.value),ref:s}),h("footer",{children:[h("a",{href:"#cancel",role:"button",className:"secondary","data-target":"modal-example",onClick:p=>{p.preventDefault(),n(null)},children:"Cancel"}),h("a",{href:"#confirm",role:"button","data-target":"modal-example",onClick:async p=>{p.preventDefault(),await a(t.id,{...t,text:i}),n(null)},children:"Update"})]})]})]})},In=()=>{const[o,e]=L(""),t=ft(),{createTodo:n}=$e(),i=s=>e(s.target.value);return h("section",{id:"form",children:h("form",{onSubmit:async s=>{s.preventDefault(),await n({text:o,done:!1}),console.log(o),e(""),t.current.focus()},autocomplete:"off",children:[h("h3",{children:"Add todos"}),h("label",{for:"text",children:"Todo"}),h("input",{type:"text",id:"text",name:"text",placeholder:"Todo",value:o,onInput:i,ref:t}),h("small",{children:"Press enter to submit your todo"})]})})},$n=({children:o,close:e})=>h("dialog",{open:!0,children:h("article",{children:[h("a",{href:"#close","aria-label":"Close",className:"close","data-target":"modal-example",onClick:e}),o]})}),Rn=()=>h(A,{children:h(Dt,{id:"signin",children:h(Pn,{})})}),An=()=>(J(()=>{console.log(oe.value)},[oe.value]),h(A,{children:h(Dt,{children:h("section",{id:"preview",children:[h("h2",{children:"Preview"}),h("p",{children:"Sed ultricies dolor non ante vulputate hendrerit. Vivamus sit amet suscipit sapien. Nulla iaculis eros a elit pharetra egestas."}),h("form",{children:[h("div",{className:"grid",children:[h("input",{type:"text",name:"firstname",placeholder:"First name","aria-label":"First name",required:""}),h("input",{type:"email",name:"email",placeholder:"Email address","aria-label":"Email address",required:""}),h("button",{type:"submit",children:"Subscribe"})]}),h("fieldset",{children:h("label",{for:"terms",children:[h("input",{type:"checkbox",role:"switch",id:"terms",name:"terms"}),"I agree to the"," ",h("a",{href:"#",onClick:o=>o.preventDefault(),children:"Privacy Policy"})]})})]})]})})})),Ln=()=>h(A,{children:h(Dt,{children:[h(In,{}),h(En,{})]})});const Nn=()=>h(A,{children:[h(Tn,{}),h(bt,{path:"/signin",component:Rn}),!q.value&&h(Se,{to:"/signin"}),h(bt,{path:"/todos",component:Ln}),h(bt,{path:"/",component:An})]});je(h(Nn,{}),document.querySelector("body"));
