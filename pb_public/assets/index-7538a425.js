(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var yt,_,se,V,Bt,ce,ht={},ae=[],je=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function N(o,e){for(var t in e)o[t]=e[t];return o}function le(o){var e=o.parentNode;e&&e.removeChild(o)}function ue(o,e,t){var n,i,r,s={};for(r in e)r=="key"?n=e[r]:r=="ref"?i=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?yt.call(arguments,2):t),typeof o=="function"&&o.defaultProps!=null)for(r in o.defaultProps)s[r]===void 0&&(s[r]=o.defaultProps[r]);return at(o,s,n,i,null)}function at(o,e,t,n,i){var r={type:o,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++se};return i==null&&_.vnode!=null&&_.vnode(r),r}function L(o){return o.children}function z(o,e){this.props=o,this.context=e}function K(o,e){if(e==null)return o.__?K(o.__,o.__.__k.indexOf(o)+1):null;for(var t;e<o.__k.length;e++)if((t=o.__k[e])!=null&&t.__e!=null)return t.__e;return typeof o.type=="function"?K(o):null}function de(o){var e,t;if((o=o.__)!=null&&o.__c!=null){for(o.__e=o.__c.base=null,e=0;e<o.__k.length;e++)if((t=o.__k[e])!=null&&t.__e!=null){o.__e=o.__c.base=t.__e;break}return de(o)}}function xt(o){(!o.__d&&(o.__d=!0)&&V.push(o)&&!pt.__r++||Bt!==_.debounceRendering)&&((Bt=_.debounceRendering)||setTimeout)(pt)}function pt(){for(var o;pt.__r=V.length;)o=V.sort(function(e,t){return e.__v.__b-t.__v.__b}),V=[],o.some(function(e){var t,n,i,r,s,c;e.__d&&(s=(r=(t=e).__v).__e,(c=t.__P)&&(n=[],(i=N({},r)).__v=r.__v+1,$t(c,r,i,t.__n,c.ownerSVGElement!==void 0,r.__h!=null?[s]:null,n,s??K(r),r.__h),ve(n,r),r.__e!=s&&de(r)))})}function he(o,e,t,n,i,r,s,c,l,h){var a,u,p,f,v,I,y,w=n&&n.__k||ae,S=w.length;for(t.__k=[],a=0;a<e.length;a++)if((f=t.__k[a]=(f=e[a])==null||typeof f=="boolean"?null:typeof f=="string"||typeof f=="number"||typeof f=="bigint"?at(null,f,null,null,f):Array.isArray(f)?at(L,{children:f},null,null,null):f.__b>0?at(f.type,f.props,f.key,f.ref?f.ref:null,f.__v):f)!=null){if(f.__=t,f.__b=t.__b+1,(p=w[a])===null||p&&f.key==p.key&&f.type===p.type)w[a]=void 0;else for(u=0;u<S;u++){if((p=w[u])&&f.key==p.key&&f.type===p.type){w[u]=void 0;break}p=null}$t(o,f,p=p||ht,i,r,s,c,l,h),v=f.__e,(u=f.ref)&&p.ref!=u&&(y||(y=[]),p.ref&&y.push(p.ref,null,f),y.push(u,f.__c||v,f)),v!=null?(I==null&&(I=v),typeof f.type=="function"&&f.__k===p.__k?f.__d=l=pe(f,l,o):l=fe(o,f,p,w,v,l),typeof t.type=="function"&&(t.__d=l)):l&&p.__e==l&&l.parentNode!=o&&(l=K(p))}for(t.__e=I,a=S;a--;)w[a]!=null&&me(w[a],w[a]);if(y)for(a=0;a<y.length;a++)_e(y[a],y[++a],y[++a])}function pe(o,e,t){for(var n,i=o.__k,r=0;i&&r<i.length;r++)(n=i[r])&&(n.__=o,e=typeof n.type=="function"?pe(n,e,t):fe(t,n,n,i,n.__e,e));return e}function fe(o,e,t,n,i,r){var s,c,l;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(t==null||i!=r||i.parentNode==null)t:if(r==null||r.parentNode!==o)o.appendChild(i),s=null;else{for(c=r,l=0;(c=c.nextSibling)&&l<n.length;l+=1)if(c==i)break t;o.insertBefore(i,r),s=r}return s!==void 0?s:i.nextSibling}function Ne(o,e,t,n,i){var r;for(r in t)r==="children"||r==="key"||r in e||ft(o,r,null,t[r],n);for(r in e)i&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||t[r]===e[r]||ft(o,r,e[r],t[r],n)}function Gt(o,e,t){e[0]==="-"?o.setProperty(e,t):o[e]=t==null?"":typeof t!="number"||je.test(e)?t:t+"px"}function ft(o,e,t,n,i){var r;t:if(e==="style")if(typeof t=="string")o.style.cssText=t;else{if(typeof n=="string"&&(o.style.cssText=n=""),n)for(e in n)t&&e in t||Gt(o.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||Gt(o.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in o?e.toLowerCase().slice(2):e.slice(2),o.l||(o.l={}),o.l[e+r]=t,t?n||o.addEventListener(e,r?Vt:Wt,r):o.removeEventListener(e,r?Vt:Wt,r);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in o)try{o[e]=t??"";break t}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?o.removeAttribute(e):o.setAttribute(e,t))}}function Wt(o){this.l[o.type+!1](_.event?_.event(o):o)}function Vt(o){this.l[o.type+!0](_.event?_.event(o):o)}function $t(o,e,t,n,i,r,s,c,l){var h,a,u,p,f,v,I,y,w,S,P,E,Ht,nt,ot,T=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,c=e.__e=t.__e,e.__h=null,r=[c]),(h=_.__b)&&h(e);try{t:if(typeof T=="function"){if(y=e.props,w=(h=T.contextType)&&n[h.__c],S=h?w?w.props.value:h.__:n,t.__c?I=(a=e.__c=t.__c).__=a.__E:("prototype"in T&&T.prototype.render?e.__c=a=new T(y,S):(e.__c=a=new z(y,S),a.constructor=T,a.render=Fe),w&&w.sub(a),a.props=y,a.state||(a.state={}),a.context=S,a.__n=n,u=a.__d=!0,a.__h=[],a._sb=[]),a.__s==null&&(a.__s=a.state),T.getDerivedStateFromProps!=null&&(a.__s==a.state&&(a.__s=N({},a.__s)),N(a.__s,T.getDerivedStateFromProps(y,a.__s))),p=a.props,f=a.state,u)T.getDerivedStateFromProps==null&&a.componentWillMount!=null&&a.componentWillMount(),a.componentDidMount!=null&&a.__h.push(a.componentDidMount);else{if(T.getDerivedStateFromProps==null&&y!==p&&a.componentWillReceiveProps!=null&&a.componentWillReceiveProps(y,S),!a.__e&&a.shouldComponentUpdate!=null&&a.shouldComponentUpdate(y,a.__s,S)===!1||e.__v===t.__v){for(a.props=y,a.state=a.__s,e.__v!==t.__v&&(a.__d=!1),a.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(it){it&&(it.__=e)}),P=0;P<a._sb.length;P++)a.__h.push(a._sb[P]);a._sb=[],a.__h.length&&s.push(a);break t}a.componentWillUpdate!=null&&a.componentWillUpdate(y,a.__s,S),a.componentDidUpdate!=null&&a.__h.push(function(){a.componentDidUpdate(p,f,v)})}if(a.context=S,a.props=y,a.__v=e,a.__P=o,E=_.__r,Ht=0,"prototype"in T&&T.prototype.render){for(a.state=a.__s,a.__d=!1,E&&E(e),h=a.render(a.props,a.state,a.context),nt=0;nt<a._sb.length;nt++)a.__h.push(a._sb[nt]);a._sb=[]}else do a.__d=!1,E&&E(e),h=a.render(a.props,a.state,a.context),a.state=a.__s;while(a.__d&&++Ht<25);a.state=a.__s,a.getChildContext!=null&&(n=N(N({},n),a.getChildContext())),u||a.getSnapshotBeforeUpdate==null||(v=a.getSnapshotBeforeUpdate(p,f)),ot=h!=null&&h.type===L&&h.key==null?h.props.children:h,he(o,Array.isArray(ot)?ot:[ot],e,t,n,i,r,s,c,l),a.base=e.__e,e.__h=null,a.__h.length&&s.push(a),I&&(a.__E=a.__=null),a.__e=!1}else r==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Ue(t.__e,e,t,n,i,r,s,l);(h=_.diffed)&&h(e)}catch(it){e.__v=null,(l||r!=null)&&(e.__e=c,e.__h=!!l,r[r.indexOf(c)]=null),_.__e(it,e,t)}}function ve(o,e){_.__c&&_.__c(e,o),o.some(function(t){try{o=t.__h,t.__h=[],o.some(function(n){n.call(t)})}catch(n){_.__e(n,t.__v)}})}function Ue(o,e,t,n,i,r,s,c){var l,h,a,u=t.props,p=e.props,f=e.type,v=0;if(f==="svg"&&(i=!0),r!=null){for(;v<r.length;v++)if((l=r[v])&&"setAttribute"in l==!!f&&(f?l.localName===f:l.nodeType===3)){o=l,r[v]=null;break}}if(o==null){if(f===null)return document.createTextNode(p);o=i?document.createElementNS("http://www.w3.org/2000/svg",f):document.createElement(f,p.is&&p),r=null,c=!1}if(f===null)u===p||c&&o.data===p||(o.data=p);else{if(r=r&&yt.call(o.childNodes),h=(u=t.props||ht).dangerouslySetInnerHTML,a=p.dangerouslySetInnerHTML,!c){if(r!=null)for(u={},v=0;v<o.attributes.length;v++)u[o.attributes[v].name]=o.attributes[v].value;(a||h)&&(a&&(h&&a.__html==h.__html||a.__html===o.innerHTML)||(o.innerHTML=a&&a.__html||""))}if(Ne(o,p,u,i,c),a)e.__k=[];else if(v=e.props.children,he(o,Array.isArray(v)?v:[v],e,t,n,i&&f!=="foreignObject",r,s,r?r[0]:t.__k&&K(t,0),c),r!=null)for(v=r.length;v--;)r[v]!=null&&le(r[v]);c||("value"in p&&(v=p.value)!==void 0&&(v!==o.value||f==="progress"&&!v||f==="option"&&v!==u.value)&&ft(o,"value",v,u.value,!1),"checked"in p&&(v=p.checked)!==void 0&&v!==o.checked&&ft(o,"checked",v,u.checked,!1))}return o}function _e(o,e,t){try{typeof o=="function"?o(e):o.current=e}catch(n){_.__e(n,t)}}function me(o,e,t){var n,i;if(_.unmount&&_.unmount(o),(n=o.ref)&&(n.current&&n.current!==o.__e||_e(n,null,e)),(n=o.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(r){_.__e(r,e)}n.base=n.__P=null,o.__c=void 0}if(n=o.__k)for(i=0;i<n.length;i++)n[i]&&me(n[i],e,t||typeof o.type!="function");t||o.__e==null||le(o.__e),o.__=o.__e=o.__d=void 0}function Fe(o,e,t){return this.constructor(o,t)}function Me(o,e,t){var n,i,r;_.__&&_.__(o,e),i=(n=typeof t=="function")?null:t&&t.__k||e.__k,r=[],$t(e,o=(!n&&t||e).__k=ue(L,null,[o]),i||ht,ht,e.ownerSVGElement!==void 0,!n&&t?[t]:i?null:e.firstChild?yt.call(e.childNodes):null,r,!n&&t?t:i?i.__e:e.firstChild,n),ve(r,o)}function De(o,e){var t={__c:e="__cC"+ce++,__:o,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,r;return this.getChildContext||(i=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(xt)},this.sub=function(s){i.push(s);var c=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),c&&c.call(s)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}yt=ae.slice,_={__e:function(o,e,t,n){for(var i,r,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(o)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(o,n||{}),s=i.__d),s)return i.__E=i}catch(c){o=c}throw o}},se=0,z.prototype.setState=function(o,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=N({},this.state),typeof o=="function"&&(o=o(N({},t),this.props)),o&&N(t,o),o!=null&&this.__v&&(e&&this._sb.push(e),xt(this))},z.prototype.forceUpdate=function(o){this.__v&&(this.__e=!0,o&&this.__h.push(o),xt(this))},z.prototype.render=L,V=[],pt.__r=0,ce=0;var B,g,wt,zt,q=0,ye=[],lt=[],Jt=_.__b,Kt=_.__r,qt=_.diffed,Qt=_.__c,Yt=_.unmount;function Z(o,e){_.__h&&_.__h(g,o,q||e),q=0;var t=g.__H||(g.__H={__:[],__h:[]});return o>=t.__.length&&t.__.push({__V:lt}),t.__[o]}function R(o){return q=1,He(ge,o)}function He(o,e,t){var n=Z(B++,2);if(n.t=o,!n.__c&&(n.__=[t?t(e):ge(void 0,e),function(r){var s=n.__N?n.__N[0]:n.__[0],c=n.t(s,r);s!==c&&(n.__N=[c,n.__[1]],n.__c.setState({}))}],n.__c=g,!g.u)){g.u=!0;var i=g.shouldComponentUpdate;g.shouldComponentUpdate=function(r,s,c){if(!n.__c.__H)return!0;var l=n.__c.__H.__.filter(function(a){return a.__c});if(l.every(function(a){return!a.__N}))return!i||i.call(this,r,s,c);var h=!1;return l.forEach(function(a){if(a.__N){var u=a.__[0];a.__=a.__N,a.__N=void 0,u!==a.__[0]&&(h=!0)}}),!(!h&&n.__c.props===r)&&(!i||i.call(this,r,s,c))}}return n.__N||n.__}function U(o,e){var t=Z(B++,3);!_.__s&&At(t.__H,e)&&(t.__=o,t.i=e,g.__H.__h.push(t))}function Rt(o,e){var t=Z(B++,4);!_.__s&&At(t.__H,e)&&(t.__=o,t.i=e,g.__h.push(t))}function G(o){return q=5,F(function(){return{current:o}},[])}function F(o,e){var t=Z(B++,7);return At(t.__H,e)?(t.__V=o(),t.i=e,t.__h=o,t.__V):t.__}function ut(o,e){return q=8,F(function(){return o},e)}function Be(o){var e=g.context[o.__c],t=Z(B++,9);return t.c=o,e?(t.__==null&&(t.__=!0,e.sub(g)),e.props.value):o.__}function Ge(){for(var o;o=ye.shift();)if(o.__P&&o.__H)try{o.__H.__h.forEach(dt),o.__H.__h.forEach(Ot),o.__H.__h=[]}catch(e){o.__H.__h=[],_.__e(e,o.__v)}}_.__b=function(o){g=null,Jt&&Jt(o)},_.__r=function(o){Kt&&Kt(o),B=0;var e=(g=o.__c).__H;e&&(wt===g?(e.__h=[],g.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=lt,t.__N=t.i=void 0})):(e.__h.forEach(dt),e.__h.forEach(Ot),e.__h=[])),wt=g},_.diffed=function(o){qt&&qt(o);var e=o.__c;e&&e.__H&&(e.__H.__h.length&&(ye.push(e)!==1&&zt===_.requestAnimationFrame||((zt=_.requestAnimationFrame)||We)(Ge)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==lt&&(t.__=t.__V),t.i=void 0,t.__V=lt})),wt=g=null},_.__c=function(o,e){e.some(function(t){try{t.__h.forEach(dt),t.__h=t.__h.filter(function(n){return!n.__||Ot(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],_.__e(n,t.__v)}}),Qt&&Qt(o,e)},_.unmount=function(o){Yt&&Yt(o);var e,t=o.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{dt(n)}catch(i){e=i}}),t.__H=void 0,e&&_.__e(e,t.__v))};var Zt=typeof requestAnimationFrame=="function";function We(o){var e,t=function(){clearTimeout(n),Zt&&cancelAnimationFrame(e),setTimeout(o)},n=setTimeout(t,100);Zt&&(e=requestAnimationFrame(t))}function dt(o){var e=g,t=o.__c;typeof t=="function"&&(o.__c=void 0,t()),g=e}function Ot(o){var e=g;o.__c=o.__(),g=e}function At(o,e){return!o||o.length!==e.length||e.some(function(t,n){return t!==o[n]})}function ge(o,e){return typeof e=="function"?e(o):e}function Ct(o,e){return o===e&&(o!==0||1/o===1/e)||o!==o&&e!==e}function Ve(o,e){const t=e(),[{_instance:n},i]=R({_instance:{_value:t,_getSnapshot:e}});return Rt(()=>{n._value=t,n._getSnapshot=e,Ct(n._value,e())||i({_instance:n})},[o,t,e]),U(()=>(Ct(n._value,n._getSnapshot())||i({_instance:n}),o(()=>{Ct(n._value,n._getSnapshot())||i({_instance:n})})),[o]),t}const be=o=>{const e=G([o,(...t)=>e[0](...t)]).current;return Rt(()=>{e[0]=o}),e[1]},ze=(o="",e=location.pathname)=>e.toLowerCase().indexOf(o.toLowerCase())?"~"+e:e.slice(o.length)||"/",Je=(o,e="")=>o[0]==="~"?o.slice(1):e+o,Ke="popstate",Lt="pushState",jt="replaceState",qe="hashchange",Xt=[Ke,Lt,jt,qe],Qe=o=>{for(const e of Xt)addEventListener(e,o);return()=>{for(const e of Xt)removeEventListener(e,o)}},Ye=o=>Ve(Qe,o),Ze=()=>location.pathname,Xe=()=>Ye(Ze),tn=(o,{replace:e=!1}={})=>history[e?jt:Lt](null,"",o),en=(o={})=>[ze(o.base,Xe()),be((e,t)=>tn(Je(e,o.base),t))];if(typeof history<"u")for(const o of[Lt,jt]){const e=history[o];history[o]=function(){const t=e.apply(this,arguments),n=new Event(o);return n.arguments=arguments,dispatchEvent(n),t}}function nn(o=rn){let e={};const t=n=>e[n]||(e[n]=o(n));return(n,i)=>{const{regexp:r,keys:s}=t(n||""),c=r.exec(i);return c?[!0,s.reduce((h,a,u)=>(h[a.name]=c[u+1],h),{})]:[!1,null]}}const te=o=>o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),on=(o,e,t)=>{let n=o?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&t&&(n="(?:\\/"+n+")"),n+(e?"?":"")},rn=o=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let t=null,n=0,i=[],r="";for(;(t=e.exec(o))!==null;){const[s,c,l]=t,h=l==="+"||l==="*",a=l==="?"||l==="*",u=a&&o[t.index-1]==="/"?1:0,p=o.substring(n,t.index-u);i.push({name:c}),n=e.lastIndex,r+=te(p)+on(h,a,u)}return r+=te(o.substring(n)),{keys:i,regexp:new RegExp("^"+r+"(?:\\/)?$","i")}},sn={hook:en,matcher:nn(),base:""},cn=De(sn),Se=()=>Be(cn),we=o=>o.hook(o),Ce=()=>we(Se()),an=o=>{const e=Se(),[t]=we(e);return e.matcher(o,t)},rt=({path:o,match:e,component:t,children:n})=>{const i=an(o),[r,s]=e||i;return r?t?ue(t,{params:s}):typeof n=="function"?n(s):n:null},ke=o=>{const{to:e,href:t=e}=o,[,n]=Ce(),i=be(()=>n(e||t,o));return Rt(()=>{i()},[]),null};function gt(){throw new Error("Cycle detected")}function Nt(){if(D>1)D--;else{for(var o,e=!1;J!==void 0;){var t=J;for(J=void 0,Tt++;t!==void 0;){var n=t.o;if(t.o=void 0,t.f&=-3,!(8&t.f)&&Oe(t))try{t.c()}catch(i){e||(o=i,e=!0)}t=n}}if(Tt=0,D--,e)throw o}}var b=void 0,J=void 0,D=0,Tt=0,vt=0;function xe(o){if(b!==void 0){var e=o.n;if(e===void 0||e.t!==b)return e={i:0,S:o,p:b.s,n:void 0,t:b,e:void 0,x:void 0,r:e},b.s!==void 0&&(b.s.n=e),b.s=e,o.n=e,32&b.f&&o.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=b.s,e.n=void 0,b.s.n=e,b.s=e),e}}function O(o){this.v=o,this.i=0,this.n=void 0,this.t=void 0}O.prototype.h=function(){return!0};O.prototype.S=function(o){this.t!==o&&o.e===void 0&&(o.x=this.t,this.t!==void 0&&(this.t.e=o),this.t=o)};O.prototype.U=function(o){if(this.t!==void 0){var e=o.e,t=o.x;e!==void 0&&(e.x=t,o.e=void 0),t!==void 0&&(t.e=e,o.x=void 0),o===this.t&&(this.t=t)}};O.prototype.subscribe=function(o){var e=this;return bt(function(){var t=e.value,n=32&this.f;this.f&=-33;try{o(t)}finally{this.f|=n}})};O.prototype.valueOf=function(){return this.value};O.prototype.toString=function(){return this.value+""};O.prototype.peek=function(){return this.v};Object.defineProperty(O.prototype,"value",{get:function(){var o=xe(this);return o!==void 0&&(o.i=this.i),this.v},set:function(o){if(o!==this.v){Tt>100&&gt(),this.v=o,this.i++,vt++,D++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{Nt()}}}});function $(o){return new O(o)}function Oe(o){for(var e=o.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Te(o){for(var e=o.s;e!==void 0;e=e.n){var t=e.S.n;if(t!==void 0&&(e.r=t),e.S.n=e,e.i=-1,e.n===void 0){o.s=e;break}}}function Pe(o){for(var e=o.s,t=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}o.s=t}function M(o){O.call(this,void 0),this.x=o,this.s=void 0,this.g=vt-1,this.f=4}(M.prototype=new O).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===vt))return!0;if(this.g=vt,this.f|=1,this.i>0&&!Oe(this))return this.f&=-2,!0;var o=b;try{Te(this),b=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return b=o,Pe(this),this.f&=-2,!0};M.prototype.S=function(o){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}O.prototype.S.call(this,o)};M.prototype.U=function(o){if(this.t!==void 0&&(O.prototype.U.call(this,o),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};M.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var o=this.t;o!==void 0;o=o.x)o.t.N()}};M.prototype.peek=function(){if(this.h()||gt(),16&this.f)throw this.v;return this.v};Object.defineProperty(M.prototype,"value",{get:function(){1&this.f&&gt();var o=xe(this);if(this.h(),o!==void 0&&(o.i=this.i),16&this.f)throw this.v;return this.v}});function ln(o){return new M(o)}function Ee(o){var e=o.u;if(o.u=void 0,typeof e=="function"){D++;var t=b;b=void 0;try{e()}catch(n){throw o.f&=-2,o.f|=8,Ut(o),n}finally{b=t,Nt()}}}function Ut(o){for(var e=o.s;e!==void 0;e=e.n)e.S.U(e);o.x=void 0,o.s=void 0,Ee(o)}function un(o){if(b!==this)throw new Error("Out-of-order effect");Pe(this),b=o,this.f&=-2,8&this.f&&Ut(this),Nt()}function X(o){this.x=o,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}X.prototype.c=function(){var o=this.S();try{!(8&this.f)&&this.x!==void 0&&(this.u=this.x())}finally{o()}};X.prototype.S=function(){1&this.f&&gt(),this.f|=1,this.f&=-9,Ee(this),Te(this),D++;var o=b;return b=this,un.bind(this,o)};X.prototype.N=function(){2&this.f||(this.f|=2,this.o=J,J=this)};X.prototype.d=function(){this.f|=8,1&this.f||Ut(this)};function bt(o){var e=new X(o);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}var kt;function W(o,e){_[o]=e.bind(null,_[o]||function(){})}function _t(o){kt&&kt(),kt=o&&o.S()}function Ie(o){var e=this,t=o.data,n=H(t);n.value=t;var i=F(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){e.base.data=i.peek()},ln(function(){var s=n.value.value;return s===0?0:s===!0?"":s||""})},[]);return i.value}Ie.displayName="_st";Object.defineProperties(O.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Ie},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});W("__b",function(o,e){if(typeof e.type=="string"){var t,n=e.props;for(var i in n)if(i!=="children"){var r=n[i];r instanceof O&&(t||(e.__np=t={}),t[i]=r,n[i]=r.peek())}}o(e)});W("__r",function(o,e){_t();var t,n=e.__c;n&&(n.__$f&=-2,(t=n.__$u)===void 0&&(n.__$u=t=function(i){var r;return bt(function(){r=this}),r.c=function(){n.__$f|=1,n.setState({})},r}())),_t(t),o(e)});W("__e",function(o,e,t,n){_t(),o(e,t,n)});W("diffed",function(o,e){_t();var t;if(typeof e.type=="string"&&(t=e.__e)){var n=e.__np,i=e.props;if(n){var r=t.U;if(r)for(var s in r){var c=r[s];c!==void 0&&!(s in n)&&(c.d(),r[s]=void 0)}else t.U=r={};for(var l in n){var h=r[l],a=n[l];h===void 0?(h=dn(t,l,a,i),r[l]=h):h.o(a,i)}}}o(e)});function dn(o,e,t,n){var i=e in o&&o.ownerSVGElement===void 0,r=$(t);return{o:function(s,c){r.value=s,n=c},d:bt(function(){var s=r.value.value;n[e]!==s&&(n[e]=s,i?o[e]=s:s?o.setAttribute(e,s):o.removeAttribute(e))})}}W("unmount",function(o,e){if(typeof e.type=="string"){var t=e.__e;if(t){var n=t.U;if(n){t.U=void 0;for(var i in n){var r=n[i];r&&r.d()}}}}else{var s=e.__c;if(s){var c=s.__$u;c&&(s.__$u=void 0,c.d())}}o(e)});W("__h",function(o,e,t,n){n<3&&(e.__$f|=2),o(e,t,n)});z.prototype.shouldComponentUpdate=function(o,e){var t=this.__$u;if(!(t&&t.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var n in e)return!0;for(var i in o)if(i!=="__source"&&o[i]!==this.props[i])return!0;for(var r in this.props)if(!(r in o))return!0;return!1};function H(o){return F(function(){return $(o)},[])}var Pt=function(o,e){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},Pt(o,e)};function C(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=o}Pt(o,e),o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Et=function(){return Et=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Et.apply(this,arguments)};function k(o,e,t,n){return new(t||(t=Promise))(function(i,r){function s(h){try{l(n.next(h))}catch(a){r(a)}}function c(h){try{l(n.throw(h))}catch(a){r(a)}}function l(h){h.done?i(h.value):function(u){return u instanceof t?u:new t(function(p){p(u)})}(h.value).then(s,c)}l((n=n.apply(o,e||[])).next())})}function x(o,e){var t,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function c(l){return function(h){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,n&&(i=2&u[0]?n.return:u[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,u[1])).done)return i;switch(n=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,n=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){s=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(u[0]===6&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(o,s)}catch(p){u=[6,p],n=0}finally{t=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([l,h])}}}var $e,Q=function(o){function e(t){var n,i,r,s,c=this;return(c=o.call(this,"ClientResponseError")||this).url="",c.status=0,c.data={},c.isAbort=!1,c.originalError=null,Object.setPrototypeOf(c,e.prototype),t instanceof e||(c.originalError=t),t!==null&&typeof t=="object"&&(c.url=typeof t.url=="string"?t.url:"",c.status=typeof t.status=="number"?t.status:0,c.data=t.data!==null&&typeof t.data=="object"?t.data:{}),typeof DOMException<"u"&&t instanceof DOMException&&(c.isAbort=!0),c.name="ClientResponseError "+c.status,c.message=(n=c.data)===null||n===void 0?void 0:n.message,c.message||(c.isAbort?c.message="The request was autocancelled. More info you could find in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((s=(r=(i=c.originalError)===null||i===void 0?void 0:i.cause)===null||r===void 0?void 0:r.message)===null||s===void 0)&&s.includes("ECONNREFUSED ::1")?c.message="Failed to connect to the PocketBase server. Try replacing the SDK url from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":c.message="Something went wrong while processing your request."),c}return C(e,o),e.prototype.toJSON=function(){return Et({},this)},e}(Error),st=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function ee(o,e,t){var n=Object.assign({},t||{}),i=n.encode||pn;if(!st.test(o))throw new TypeError("argument name is invalid");var r=i(e);if(r&&!st.test(r))throw new TypeError("argument val is invalid");var s=o+"="+r;if(n.maxAge!=null){var c=n.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(c)}if(n.domain){if(!st.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!st.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!function(h){return Object.prototype.toString.call(h)==="[object Date]"||h instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function hn(o){return o.indexOf("%")!==-1?decodeURIComponent(o):o}function pn(o){return encodeURIComponent(o)}function ne(o){if(o)try{var e=decodeURIComponent($e(o.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}$e=typeof atob=="function"?atob:function(o){var e=String(o).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,r=0,s="";n=e.charAt(r++);~n&&(t=i%4?64*t+n:n,i++%4)?s+=String.fromCharCode(255&t>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};var tt=function(){function o(e){e===void 0&&(e={}),this.load(e||{})}return o.prototype.load=function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var i=n[t],r=i[0],s=i[1];this[r]=s}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(o.prototype,"isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),o.prototype.clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},o.prototype.export=function(){return Object.assign({},this)},o}(),mt=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this.loadExpand(t.expand)},e.prototype.loadExpand=function(t){for(var n in t=t||{},this.expand={},t)Array.isArray(t[n])?this.expand[n]=t[n].map(function(i){return new e(i||{})}):this.expand[n]=new e(t[n]||{})},e}(tt),Ft=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}(tt),fn=function(){function o(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(o.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isValid",{get:function(){return!function(t,n){n===void 0&&(n=0);var i=ne(t);return!(Object.keys(i).length>0&&(!i.exp||i.exp-n>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),o.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new mt(t):new Ft(t):null,this.triggerChange()},o.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},o.prototype.loadFromCookie=function(e,t){t===void 0&&(t="pb_auth");var n=function(s,c){var l={};if(typeof s!="string")return l;for(var h=Object.assign({},c||{}).decode||hn,a=0;a<s.length;){var u=s.indexOf("=",a);if(u===-1)break;var p=s.indexOf(";",a);if(p===-1)p=s.length;else if(p<u){a=s.lastIndexOf(";",u-1)+1;continue}var f=s.slice(a,u).trim();if(l[f]===void 0){var v=s.slice(u+1,p).trim();v.charCodeAt(0)===34&&(v=v.slice(1,-1));try{l[f]=h(v)}catch{l[f]=v}}a=p+1}return l}(e||"")[t]||"",i={};try{(typeof(i=JSON.parse(n))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},o.prototype.exportToCookie=function(e,t){var n,i,r;t===void 0&&(t="pb_auth");var s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},c=ne(this.token);c!=null&&c.exp?s.expires=new Date(1e3*c.exp):s.expires=new Date("1970-01-01"),e=Object.assign({},s,e);var l={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},h=ee(t,JSON.stringify(l),e),a=typeof Blob<"u"?new Blob([h]).size:h.length;return l.model&&a>4096&&(l.model={id:(i=l==null?void 0:l.model)===null||i===void 0?void 0:i.id,email:(r=l==null?void 0:l.model)===null||r===void 0?void 0:r.email},this.model instanceof mt&&(l.model.username=this.model.username,l.model.verified=this.model.verified,l.model.collectionId=this.model.collectionId),h=ee(t,JSON.stringify(l),e)),h},o.prototype.onChange=function(e,t){var n=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var i=n._onChangeCallbacks.length-1;i>=0;i--)if(n._onChangeCallbacks[i]==e)return delete n._onChangeCallbacks[i],void n._onChangeCallbacks.splice(i,1)}},o.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var n=t[e];n&&n(this.token,this.model)}},o}(),vn=function(o){function e(t){t===void 0&&(t="pocketbase_auth");var n=o.call(this)||this;return n.storageFallback={},n.storageKey=t,n}return C(e,o),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((t=n.model)===null||t===void 0?void 0:t.collectionId)===void 0?new Ft(n.model):new mt(n.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,n){this._storageSet(this.storageKey,{token:t,model:n}),o.prototype.save.call(this,t,n)},e.prototype.clear=function(){this._storageRemove(this.storageKey),o.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]},e.prototype._storageSet=function(t,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),window.localStorage.setItem(t,i)}else this.storageFallback[t]=n},e.prototype._storageRemove=function(t){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)===null||n===void 0||n.removeItem(t)),delete this.storageFallback[t]},e}(fn),et=function(e){this.client=e},_n=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(n){return n||{}})},e.prototype.update=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:t}).then(function(i){return i||{}})},e.prototype.testS3=function(t){return t===void 0&&(t={}),this.client.send("/api/settings/test/s3",{method:"POST",params:t}).then(function(){return!0})},e.prototype.testEmail=function(t,n,i){i===void 0&&(i={});var r={email:t,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:r}).then(function(){return!0})},e}(et),Re=function(e,t,n,i,r){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=n>=0?n:0,this.totalPages=i>=0?i:0,this.items=r||[]},Mt=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getFullList=function(t,n){return t===void 0&&(t=200),n===void 0&&(n={}),this._getFullList(this.baseCrudPath,t,n)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),this._getFirstListItem(this.baseCrudPath,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this._create(this.baseCrudPath,t,n)},e.prototype.update=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),this._update(this.baseCrudPath,t,n,i)},e.prototype.delete=function(t,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath,t,n)},e}(function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype._getFullList=function(t,n,i){var r=this;n===void 0&&(n=100),i===void 0&&(i={});var s=[],c=function(l){return k(r,void 0,void 0,function(){return x(this,function(h){return[2,this._getList(t,l,n,i).then(function(a){var u=a,p=u.items,f=u.totalItems;return s=s.concat(p),p.length&&f>s.length?c(l+1):s})]})})};return c(1)},e.prototype._getList=function(t,n,i,r){var s=this;return n===void 0&&(n=1),i===void 0&&(i=30),r===void 0&&(r={}),r=Object.assign({page:n,perPage:i},r),this.client.send(t,{method:"GET",params:r}).then(function(c){var l=[];if(c!=null&&c.items){c.items=c.items||[];for(var h=0,a=c.items;h<a.length;h++){var u=a[h];l.push(s.decode(u))}}return new Re((c==null?void 0:c.page)||1,(c==null?void 0:c.perPage)||0,(c==null?void 0:c.totalItems)||0,(c==null?void 0:c.totalPages)||0,l)})},e.prototype._getOne=function(t,n,i){var r=this;return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"GET",params:i}).then(function(s){return r.decode(s)})},e.prototype._getFirstListItem=function(t,n,i){return i===void 0&&(i={}),i=Object.assign({filter:n,$cancelKey:"one_by_filter_"+t+"_"+n},i),this._getList(t,1,1,i).then(function(r){var s;if(!(!((s=r==null?void 0:r.items)===null||s===void 0)&&s.length))throw new Q({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})},e.prototype._create=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),this.client.send(t,{method:"POST",params:i,body:n}).then(function(s){return r.decode(s)})},e.prototype._update=function(t,n,i,r){var s=this;return i===void 0&&(i={}),r===void 0&&(r={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"PATCH",params:r,body:i}).then(function(c){return s.decode(c)})},e.prototype._delete=function(t,n,i){return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e}(et)),mn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.decode=function(t){return new Ft(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),o.prototype.update.call(this,t,n,i).then(function(s){var c,l;return r.client.authStore.model&&((c=r.client.authStore.model)===null||c===void 0?void 0:c.collectionId)===void 0&&((l=r.client.authStore.model)===null||l===void 0?void 0:l.id)===(s==null?void 0:s.id)&&r.client.authStore.save(r.client.authStore.token,s),s})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),o.prototype.delete.call(this,t,n).then(function(r){var s,c;return r&&i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((c=i.client.authStore.model)===null||c===void 0?void 0:c.id)===t&&i.client.authStore.clear(),r})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})},e.prototype.authWithPassword=function(t,n,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:r,body:i}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,r,s){return r===void 0&&(r={}),s===void 0&&(s={}),r=Object.assign({token:t,password:n,passwordConfirm:i},r),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:s,body:r}).then(function(){return!0})},e}(Mt),yn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}(tt),gn=function(o){function e(t,n){var i=o.call(this,t)||this;return i.collectionIdOrName=n,i}return C(e,o),e.prototype.decode=function(t){return new mt(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,n){return k(this,void 0,void 0,function(){return x(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n)]})})},e.prototype.subscribe=function(t,n){return k(this,void 0,void 0,function(){var i;return x(this,function(r){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!n)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,t!=="*"&&(i+="/"+t),[2,this.client.realtime.subscribe(i,n)]})})},e.prototype.unsubscribe=function(t){return k(this,void 0,void 0,function(){return x(this,function(n){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,n){return t===void 0&&(t=200),n===void 0&&(n={}),o.prototype.getFullList.call(this,t,n)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),o.prototype.getList.call(this,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),o.prototype.getFirstListItem.call(this,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),o.prototype.getOne.call(this,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),o.prototype.create.call(this,t,n)},e.prototype.update=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),o.prototype.update.call(this,t,n,i).then(function(s){var c,l;return((c=r.client.authStore.model)===null||c===void 0?void 0:c.collectionId)!==void 0&&((l=r.client.authStore.model)===null||l===void 0?void 0:l.id)===(s==null?void 0:s.id)&&r.client.authStore.save(r.client.authStore.token,s),s})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),o.prototype.delete.call(this,t,n).then(function(r){var s,c;return r&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==void 0&&((c=i.client.authStore.model)===null||c===void 0?void 0:c.id)===t&&i.client.authStore.clear(),r})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(n){return Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},e.prototype.authWithPassword=function(t,n,i,r){var s=this;return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:r,body:i}).then(function(c){return s.authResponse(c)})},e.prototype.authWithOAuth2=function(t,n,i,r,s,c,l){var h=this;return s===void 0&&(s={}),c===void 0&&(c={}),l===void 0&&(l={}),c=Object.assign({provider:t,code:n,codeVerifier:i,redirectUrl:r,createData:s},c),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:l,body:c}).then(function(a){return h.authResponse(a)})},e.prototype.authRefresh=function(t,n){var i=this;return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(function(r){return i.authResponse(r)})},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,r,s){return r===void 0&&(r={}),s===void 0&&(s={}),r=Object.assign({token:t,password:n,passwordConfirm:i},r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:s,body:r}).then(function(){return!0})},e.prototype.requestVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({token:t},n),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({newEmail:t},n),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,n,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:t,password:n},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:r,body:i}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:n}).then(function(i){var r=[];if(Array.isArray(i))for(var s=0,c=i;s<c.length;s++){var l=c[s];r.push(new yn(l))}return r})},e.prototype.unlinkExternalAuth=function(t,n,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e}(Mt),bn=function(){function o(e){e===void 0&&(e={}),this.load(e||{})}return o.prototype.load=function(e){this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.unique=!!e.unique,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},o}(),Sn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0?t.options:{},this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var n=0,i=t.schema;n<i.length;n++){var r=i[n];this.schema.push(new bn(r))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSingle",{get:function(){return this.type==="single"},enumerable:!1,configurable:!0}),e}(tt),wn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.decode=function(t){return new Sn(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,n,i){return n===void 0&&(n=!1),i===void 0&&(i={}),k(this,void 0,void 0,function(){return x(this,function(r){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:t,deleteMissing:n}}).then(function(){return!0})]})})},e}(Mt),oe=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}(tt),Cn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getRequestsList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),i=Object.assign({page:t,perPage:n},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(r){var s=[];if(r!=null&&r.items){r.items=(r==null?void 0:r.items)||[];for(var c=0,l=r.items;c<l.length;c++){var h=l[c];s.push(new oe(h))}}return new Re((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,s)})},e.prototype.getRequest=function(t,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:n}).then(function(i){return new oe(i)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(n){return n})},e}(et),kn=function(o){function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return C(e,o),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,n){var i;return k(this,void 0,void 0,function(){var r,s=this;return x(this,function(c){switch(c.label){case 0:if(!t)throw new Error("topic must be set.");return r=function(l){var h,a=l;try{h=JSON.parse(a==null?void 0:a.data)}catch{}n(h||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(r),this.isConnected?[3,2]:[4,this.connect()];case 1:return c.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return c.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(t,r),c.label=5;case 5:return[2,function(){return k(s,void 0,void 0,function(){return x(this,function(l){return[2,this.unsubscribeByTopicAndListener(t,r)]})})}]}})})},e.prototype.unsubscribe=function(t){var n;return k(this,void 0,void 0,function(){var i,r,s;return x(this,function(c){switch(c.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(i=0,r=this.subscriptions[t];i<r.length;i++)s=r[i],(n=this.eventSource)===null||n===void 0||n.removeEventListener(t,s);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:c.sent(),c.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var n;return k(this,void 0,void 0,function(){var i,r,s,c,l;return x(this,function(h){switch(h.label){case 0:for(r in i=!1,this.subscriptions)if(r.startsWith(t)){for(i=!0,s=0,c=this.subscriptions[r];s<c.length;s++)l=c[s],(n=this.eventSource)===null||n===void 0||n.removeEventListener(r,l);delete this.subscriptions[r]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return h.sent(),[3,3];case 2:this.disconnect(),h.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,n){var i;return k(this,void 0,void 0,function(){var r,s;return x(this,function(c){switch(c.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(r=!1,s=this.subscriptions[t].length-1;s>=0;s--)this.subscriptions[t][s]===n&&(r=!0,delete this.subscriptions[t][s],this.subscriptions[t].splice(s,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,n));return r?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:c.sent(),c.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var n,i;if(this.subscriptions=this.subscriptions||{},t)return!!(!((n=this.subscriptions[t])===null||n===void 0)&&n.length);for(var r in this.subscriptions)if(!((i=this.subscriptions[r])===null||i===void 0)&&i.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return k(this,void 0,void 0,function(){return x(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(n){if(!(n!=null&&n.isAbort))throw n})]):[2]})})},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var r=i[n];this.eventSource.addEventListener(t,r)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var r=i[n];this.eventSource.removeEventListener(t,r)}},e.prototype.connect=function(){return k(this,void 0,void 0,function(){var t=this;return x(this,function(n){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,r){t.pendingConnects.push({resolve:i,reject:r}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(n){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(n){var i=n;t.clientId=i==null?void 0:i.lastEventId,t.submitSubscriptions().then(function(){return k(t,void 0,void 0,function(){var r;return x(this,function(s){switch(s.label){case 0:r=3,s.label=1;case 1:return this.hasUnsentSubscriptions()&&r>0?(r--,[4,this.submitSubscriptions()]):[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var r=0,s=t.pendingConnects;r<s.length;r++)s[r].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(r){t.clientId="",t.connectErrorHandler(r)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!this.lastSentTopics.includes(r))return!0}return!1},e.prototype.connectErrorHandler=function(t){var n=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,r=this.pendingConnects;i<r.length;i++)r[i].reject(new Q(t));this.disconnect()}else{this.disconnect(!0);var s=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){n.initConnect()},s)}},e.prototype.disconnect=function(t){var n;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var i=new Q(new Error("Realtime disconnected.")),r=0,s=this.pendingConnects;r<s.length;r++)s[r].reject(i);this.pendingConnects=[]}},e}(et),xn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(et),On=function(){function o(e,t,n){e===void 0&&(e="/"),n===void 0&&(n="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new vn,this.admins=new mn(this),this.collections=new wn(this),this.logs=new Cn(this),this.settings=new _n(this),this.realtime=new kn(this),this.health=new xn(this)}return o.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new gn(this,e)),this.recordServices[e]},o.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},o.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},o.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},o.prototype.send=function(e,t){var n,i,r,s,c,l,h,a;return k(this,void 0,void 0,function(){var u,p,f,v,I,y=this;return x(this,function(w){return(u=Object.assign({method:"GET"},t)).body&&u.body.constructor.name!=="FormData"&&(typeof u.body!="string"&&(u.body=JSON.stringify(u.body)),((n=u==null?void 0:u.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(u.headers=Object.assign({},u.headers,{"Content-Type":"application/json"}))),((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(u.headers=Object.assign({},u.headers,{"Accept-Language":this.lang})),!((r=this.authStore)===null||r===void 0)&&r.token&&((s=u==null?void 0:u.headers)===null||s===void 0?void 0:s.Authorization)===void 0&&(u.headers=Object.assign({},u.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((c=u.params)===null||c===void 0?void 0:c.$autoCancel)!==!1&&(p=((l=u.params)===null||l===void 0?void 0:l.$cancelKey)||(u.method||"GET")+e,this.cancelRequest(p),f=new AbortController,this.cancelControllers[p]=f,u.signal=f.signal),(h=u.params)===null||h===void 0||delete h.$autoCancel,(a=u.params)===null||a===void 0||delete a.$cancelKey,v=this.buildUrl(e),u.params!==void 0&&((I=this.serializeQueryParams(u.params))&&(v+=(v.includes("?")?"&":"?")+I),delete u.params),this.beforeSend&&(u=Object.assign({},this.beforeSend(v,u))),[2,fetch(v,u).then(function(S){return k(y,void 0,void 0,function(){var P;return x(this,function(E){switch(E.label){case 0:P={},E.label=1;case 1:return E.trys.push([1,3,,4]),[4,S.json()];case 2:return P=E.sent(),[3,4];case 3:return E.sent(),[3,4];case 4:if(this.afterSend&&(P=this.afterSend(S,P)),S.status>=400)throw new Q({url:S.url,status:S.status,data:P});return[2,P]}})})}).catch(function(S){throw new Q(S)})]})})},o.prototype.getFileUrl=function(e,t,n){n===void 0&&(n={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));var r=this.buildUrl(i.join("/"));if(Object.keys(n).length){var s=new URLSearchParams(n);r+=(r.includes("?")?"&":"?")+s}return r},o.prototype.buildUrl=function(e){var t=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return e&&(t+=e.startsWith("/")?e.substring(1):e),t},o.prototype.serializeQueryParams=function(e){var t=[];for(var n in e)if(e[n]!==null){var i=e[n],r=encodeURIComponent(n);if(Array.isArray(i))for(var s=0,c=i;s<c.length;s++){var l=c[s];t.push(r+"="+encodeURIComponent(l))}else i instanceof Date?t.push(r+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(r+"="+encodeURIComponent(JSON.stringify(i))):t.push(r+"="+encodeURIComponent(i))}return t.join("&")},o}();console.log("using backend: ","https://beer.tylergregg.me");const m=new On("https://beer.tylergregg.me");window.pb=m;const A=$({}),Y=$(!1),ie=$(!1);m.authStore.onChange(()=>{var o,e,t,n,i,r,s,c,l,h,a,u,p,f;if(console.log("running auth onchange..."),Y.value!==m.authStore.isValid&&(console.log("setting is_authenticated",m.authStore.isValid),Y.value=m.authStore.isValid),!((o=A.value)!=null&&o.id)&&!ie.value)try{console.log("running auth refresh"),ie.value=!0,m.collection("users").authRefresh()}catch{}((t=(e=m.authStore)==null?void 0:e.baseModel)==null?void 0:t.id)!==((n=A.value)==null?void 0:n.id)&&(console.log("setting user_data to",(r=(i=m.authStore)==null?void 0:i.baseModel)==null?void 0:r.id),A.value=(c=(s=m.authStore)==null?void 0:s.baseModel)!=null&&c.id?{id:(h=(l=m.authStore)==null?void 0:l.baseModel)==null?void 0:h.id,username:(u=(a=m.authStore)==null?void 0:a.baseModel)==null?void 0:u.username,email:(f=(p=m.authStore)==null?void 0:p.baseModel)==null?void 0:f.email}:{})},!0);bt(()=>{console.log("auth data updated",Y.value,A.value)});const Tn=async(o,e)=>{try{return await m.collection("users").authWithPassword(o,e),{success:!0}}catch(t){return console.error("failed login",t),{success:!1,error:t}}},Pn=()=>m.authStore.clear(),re=$(0);var En=0;function d(o,e,t,n,i){var r,s,c={};for(s in e)s=="ref"?r=e[s]:c[s]=e[s];var l={type:o,props:c,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--En,__source:i,__self:n};if(typeof o=="function"&&(r=o.defaultProps))for(s in r)c[s]===void 0&&(c[s]=r[s]);return _.vnode&&_.vnode(l),l}const ct=({children:o,onClick:e})=>d("li",{children:d("a",{href:"#",onClick:e,children:o})}),In=()=>{const[o,e]=Ce(),t=G(),n=r=>{Pn(),r.preventDefault(),t.current.open=!1},i=r=>s=>{s.preventDefault(),e(r),t.current.open=!1};return d("nav",{className:"container-fluid",children:[d("ul",{children:d("li",{children:d("a",{href:"./",className:"contrast",onClick:i("/"),children:d("strong",{children:"beer.tylergregg"})})})}),d("ul",{children:d("li",{children:d("details",{role:"list",dir:"rtl",ref:t,children:[d("summary",{"aria-haspopup":"listbox",role:"link",className:"secondary",children:"Apps"}),d("ul",{role:"listbox",children:[d(ct,{onClick:i("/"),children:"Home"}),d(ct,{onClick:i("/todos"),children:"Todos"}),d(ct,{onClick:i("/chat"),children:"Chat"}),d(ct,{onClick:n,children:"Sign out"})]})]})})})]})},St=({id:o,children:e})=>d("main",{className:"container",...!!o&&{id:o},children:e}),$n=()=>{const[o,e]=R(""),[t,n]=R(""),i=async()=>{await Tn(o,t)};return d("article",{className:"grid",children:[Y.value&&d(ke,{to:"/todos"}),d("div",{children:[d("hgroup",{children:[d("h1",{children:"Sign in"}),d("h2",{children:"Lets not get too crazy..."})]}),d("form",{children:[d("input",{type:"text",name:"login",placeholder:"Login","aria-label":"Login",autocomplete:"email",onInput:r=>e(r.target.value),value:o}),d("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autocomplete:"current-password",onInput:r=>n(r.target.value),value:t}),d("fieldset",{children:d("label",{for:"remember",children:[d("input",{type:"checkbox",role:"switch",id:"remember",name:"remember"}),"Remember me"]})}),d("button",{type:"submit",className:"contrast",onClick:r=>{r.preventDefault(),i()},children:"Login"})]})]}),d("div",{})]})},j=$([]),Ae=o=>{var s;const e=H(!0),t=H(null);U(()=>{const{subscription:c,skip:l,...h}=o||{sort:"-created"};l||m.collection("todos").getFullList(200,h).then(a=>{e.value=!1,j.value=a}).catch(a=>{e.value=!1,t.value=a})},[o]);const n=ut(async c=>{try{const l=await m.collection("todos").create({...c,user:A.value.id});return j.value=[l,...j.value],console.log("successfully created todo"),{success:!0}}catch(l){return console.log("could not create todo: ",l),{success:!1,error:l}}},[]),i=ut(async c=>{try{const l=await m.collection("todos").delete(c);return j.value=j.value.filter(h=>h.id!==c),console.log("successfully deleted todo"),{success:!0,data:l}}catch(l){return console.log("could not delete todo: ",l),{success:!1,error:l}}},[]),r=ut(async(c,l)=>{try{console.log("updated todo: ",c,{text:l.text,done:l.done,user:l.user});const h=await m.collection("todos").update(c,l);return j.value=j.value.map(a=>a.id===c?h:a),console.log("successfully updated todo"),{success:!0,data:h}}catch(h){return console.log("could not update todo: ",h),{success:!1,error:h}}},[]);return U(()=>{var c,l,h;if((c=o==null?void 0:o.subscription)!=null&&c.event){const a=((l=o==null?void 0:o.subscription)==null?void 0:l.callback)||(u=>{console.log("subscription event recieved: ",u)});return console.log("subscribing to * todos"),m.collection("todos").subscribe((h=o==null?void 0:o.subscription)==null?void 0:h.event,a),()=>{var u;console.log("unsubscribing to * todos"),m.collection("todos").unsubscribe((u=o==null?void 0:o.subscription)==null?void 0:u.event)}}},[(s=o==null?void 0:o.subscription)==null?void 0:s.run,o]),{loading:e.value,todos:j.value,error:t.value,createTodo:n,deleteTodo:i,updateTodo:r}},Le=(o,e)=>t=>{var l;const n=F(()=>t||{},[t]),i=e||H([]),r=H(!(n!=null&&n.skipMountFetch)),s=H(null);U(()=>{const{subscription:h,skipMountFetch:a,...u}=n;a||(console.info(` - Fetching ${o} collection...`),r.value=!0,m.collection(o).getFullList(200,{sort:"-created",...u}).then(p=>{r.value=!1,i.value=p,console.info(` - Successfully fetched ${o} collection.`)}).catch(p=>{r.value=!1,s.value=p,console.error(` - Failed to fetch ${o} collection.`)}))},[n]);const c=ut(async(h,a={update:!1})=>{try{console.info(` - Creating new ${o}...`);const u=await m.collection(o).create(h);return console.info(` - Successfully created ${o}.`),a.update&&(i.value=[u,...i.value]),{success:!0,data:u}}catch(u){return console.error(` - Failed to create ${o}.`),{success:!1,error:u}}},[]);return U(()=>{var h,a,u;if((h=n==null?void 0:n.subscription)!=null&&h.event){const p=((a=n==null?void 0:n.subscription)==null?void 0:a.callback)||(f=>{console.log(`subscription event ${o} recieved: `,f)});return console.log(`subscribing to * ${o}`),m.collection(o).subscribe((u=n==null?void 0:n.subscription)==null?void 0:u.event,p),()=>{var f;console.log(`unsubscribing to * ${o}`),m.collection(o).unsubscribe((f=n==null?void 0:n.subscription)==null?void 0:f.event)}}},[(l=n==null?void 0:n.subscription)==null?void 0:l.event,n]),{data:i.value,loading:r.value,error:s.value,create:c}},Rn="users",An=$([]),Ln=Le(Rn,An);$([]);const jn="pmessage",It=$([]),Dt=Le(jn,It),Nn=()=>{const[o,e]=R(null),[t,n]=R(null),[i,r]=R(""),s=G(),c=F(()=>({subscription:{event:"*"}}),[]),{todos:l,deleteTodo:h,updateTodo:a}=Ae(c);console.log(l),U(()=>{var p;r((t==null?void 0:t.text)||""),t!=null&&t.text&&((p=s==null?void 0:s.current)==null||p.focus())},[t==null?void 0:t.text]);const u=F(()=>{const p=l.filter(v=>v.done);return[...l.filter(v=>!v.done),...p]},[l]);return d("section",{id:"preview",children:[u.map(p=>d("article",{onClick:()=>e(f=>f?null:p.id),style:{backgroundColor:"#182530",margin:"calc(var(--block-spacing-vertical)/2) 0",padding:"calc(var(--block-spacing-horizontal)/1.5) calc(var(--block-spacing-horizontal)/1.5)"},children:[p.done&&d("span",{style:{color:"red"},children:"Done!"}),d("p",{children:p.text}),o===p.id&&d("footer",{style:{display:"flex",flexDirection:"row-reverse"},children:[d("button",{onClick:()=>h(p.id),style:{maxWidth:"165px"},children:"Delete"}),d("button",{className:"contrast",onClick:()=>n(p),style:{marginRight:"8px",maxWidth:"165px"},children:"Edit"}),d("button",{onClick:async()=>{await a(p.id,{...p,done:!p.done})},className:"secondary",style:{marginRight:"8px",maxWidth:"165px"},children:p.done?"Undone":"Done"})]})]},p.id)),t&&d(Fn,{close:()=>n(null),children:[d("p",{children:"Edit your todo"}),d("input",{value:i,onInput:p=>r(p.target.value),ref:s}),d("footer",{children:[d("a",{href:"#cancel",role:"button",className:"secondary","data-target":"modal-example",onClick:p=>{p.preventDefault(),n(null)},children:"Cancel"}),d("a",{href:"#confirm",role:"button","data-target":"modal-example",onClick:async p=>{p.preventDefault(),await a(t.id,{...t,text:i}),n(null)},children:"Update"})]})]})]})},Un=()=>{const[o,e]=R(""),t=G(),{createTodo:n}=Ae(),i=s=>e(s.target.value);return d("section",{id:"form",children:d("form",{onSubmit:async s=>{s.preventDefault(),await n({text:o,done:!1}),console.log(o),e(""),t.current.focus()},autocomplete:"off",children:[d("h3",{children:"Add todos"}),d("label",{for:"text",children:"Todo"}),d("input",{type:"text",id:"text",name:"text",placeholder:"Todo",value:o,onInput:i,ref:t}),d("small",{children:"Press enter to submit your todo"})]})})},Fn=({children:o,close:e})=>d("dialog",{open:!0,children:d("article",{children:[d("a",{href:"#close","aria-label":"Close",className:"close","data-target":"modal-example",onClick:e}),o]})}),Mn=o=>{const e=o.id===A.value.id;return d("div",{style:e?{display:"flex",flexDirection:"row-reverse",marginLeft:"16px"}:{display:"flex",flexDirection:"row",marginRight:"24px"},children:d("article",{style:{...e?{backgroundColor:"rgb(34 66 31)"}:{backgroundColor:"#182530"},margin:"calc(var(--block-spacing-vertical)/2) 0",padding:"calc(var(--block-spacing-horizontal)/1.5) calc(var(--block-spacing-horizontal)/1.5)"},children:d("p",{children:o.text})})})},Dn=()=>{const{data:o}=Dt({skipMountFetch:!0});return d("div",{children:o.map(e=>d(Mn,{id:e.author,text:e.text},e.id))})},Hn=({userId:o})=>{const[e,t]=R(""),{create:n}=Dt({skipMountFetch:!0}),i=G();return d("section",{id:"form",children:d("form",{onSubmit:async c=>{c.preventDefault(),await n({text:e,author:A.value.id,recipient:o}),t(""),i.current.focus()},autocomplete:"off",children:d("input",{type:"text",id:"text",name:"text",placeholder:"Todo",value:e,onInput:c=>t(c.target.value),ref:i})})})},Bn=()=>{const o=G();return U(()=>o.current.scrollIntoView()),d("div",{ref:o})},Gn=({user:o})=>{const e=F(()=>({filter:`(author.id="${o.id}" && recipient.id="${A.value.id}") || (author.id="${A.value.id}" && recipient.id="${o.id}")`,sort:"+created",subscription:{event:"*",callback:i=>{i.action==="create"&&(It.value=[...It.value,i.record])}}}),[o.id]),{data:t,loading:n}=Dt(e);return n?null:d("div",{style:{overflowY:"auto",maxHeight:"60vh"},children:[d(Dn,{}),d(Hn,{userId:o.id}),d(Bn,{})]})},Wn=()=>{const{data:o}=Ln(),[e,t]=R(null);return d("section",{children:o.map(n=>d("details",{open:(e==null?void 0:e.id)===n.id,children:[d("summary",{onClick:i=>{i.preventDefault(),i.stopPropagation(),t(r=>(r==null?void 0:r.id)===n.id?null:n)},children:n.username}),(e==null?void 0:e.id)===n.id&&d(Gn,{user:n})]},n.id))})},Vn=()=>d(L,{children:d(St,{id:"signin",children:d($n,{})})}),zn=()=>(U(()=>{console.log(re.value)},[re.value]),d(L,{children:d(St,{children:d("section",{id:"preview",children:[d("h2",{children:"Preview"}),d("p",{children:"Sed ultricies dolor non ante vulputate hendrerit. Vivamus sit amet suscipit sapien. Nulla iaculis eros a elit pharetra egestas."}),d("form",{children:[d("div",{className:"grid",children:[d("input",{type:"text",name:"firstname",placeholder:"First name","aria-label":"First name",required:""}),d("input",{type:"email",name:"email",placeholder:"Email address","aria-label":"Email address",required:""}),d("button",{type:"submit",children:"Subscribe"})]}),d("fieldset",{children:d("label",{for:"terms",children:[d("input",{type:"checkbox",role:"switch",id:"terms",name:"terms"}),"I agree to the"," ",d("a",{href:"#",onClick:o=>o.preventDefault(),children:"Privacy Policy"})]})})]})]})})})),Jn=()=>d(L,{children:d(St,{children:[d(Un,{}),d(Nn,{})]})}),Kn=()=>d(L,{children:d(St,{children:d(Wn,{})})});const qn=()=>d(L,{children:[d(In,{}),d(rt,{path:"/signin",component:Vn}),!Y.value&&d(ke,{to:"/signin"}),d(rt,{path:"/todos",component:Jn}),d(rt,{path:"/chat",component:Kn}),d(rt,{path:"/",component:zn})]});Me(d(qn,{}),document.querySelector("body"));
