(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerpolicy&&(r.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?r.credentials="include":i.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();var dt,_,ie,H,Ht,re,rt={},se=[],Re=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function $(o,e){for(var t in e)o[t]=e[t];return o}function ae(o){var e=o.parentNode;e&&e.removeChild(o)}function ce(o,e,t){var n,i,r,s={};for(r in e)r=="key"?n=e[r]:r=="ref"?i=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?dt.call(arguments,2):t),typeof o=="function"&&o.defaultProps!=null)for(r in o.defaultProps)s[r]===void 0&&(s[r]=o.defaultProps[r]);return nt(o,s,n,i,null)}function nt(o,e,t,n,i){var r={type:o,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++ie};return i==null&&_.vnode!=null&&_.vnode(r),r}function R(o){return o.children}function D(o,e){this.props=o,this.context=e}function B(o,e){if(e==null)return o.__?B(o.__,o.__.__k.indexOf(o)+1):null;for(var t;e<o.__k.length;e++)if((t=o.__k[e])!=null&&t.__e!=null)return t.__e;return typeof o.type=="function"?B(o):null}function ue(o){var e,t;if((o=o.__)!=null&&o.__c!=null){for(o.__e=o.__c.base=null,e=0;e<o.__k.length;e++)if((t=o.__k[e])!=null&&t.__e!=null){o.__e=o.__c.base=t.__e;break}return ue(o)}}function bt(o){(!o.__d&&(o.__d=!0)&&H.push(o)&&!st.__r++||Ht!==_.debounceRendering)&&((Ht=_.debounceRendering)||setTimeout)(st)}function st(){for(var o;st.__r=H.length;)o=H.sort(function(e,t){return e.__v.__b-t.__v.__b}),H=[],o.some(function(e){var t,n,i,r,s,a;e.__d&&(s=(r=(t=e).__v).__e,(a=t.__P)&&(n=[],(i=$({},r)).__v=r.__v+1,Ot(a,r,i,t.__n,a.ownerSVGElement!==void 0,r.__h!=null?[s]:null,n,s??B(r),r.__h),pe(n,r),r.__e!=s&&ue(r)))})}function le(o,e,t,n,i,r,s,a,u,d){var c,l,f,p,v,I,m,S=n&&n.__k||se,b=S.length;for(t.__k=[],c=0;c<e.length;c++)if((p=t.__k[c]=(p=e[c])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?nt(null,p,null,null,p):Array.isArray(p)?nt(R,{children:p},null,null,null):p.__b>0?nt(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=t,p.__b=t.__b+1,(f=S[c])===null||f&&p.key==f.key&&p.type===f.type)S[c]=void 0;else for(l=0;l<b;l++){if((f=S[l])&&p.key==f.key&&p.type===f.type){S[l]=void 0;break}f=null}Ot(o,p,f=f||rt,i,r,s,a,u,d),v=p.__e,(l=p.ref)&&f.ref!=l&&(m||(m=[]),f.ref&&m.push(f.ref,null,p),m.push(l,p.__c||v,p)),v!=null?(I==null&&(I=v),typeof p.type=="function"&&p.__k===f.__k?p.__d=u=de(p,u,o):u=he(o,p,f,S,v,u),typeof t.type=="function"&&(t.__d=u)):u&&f.__e==u&&u.parentNode!=o&&(u=B(f))}for(t.__e=I,c=b;c--;)S[c]!=null&&ve(S[c],S[c]);if(m)for(c=0;c<m.length;c++)fe(m[c],m[++c],m[++c])}function de(o,e,t){for(var n,i=o.__k,r=0;i&&r<i.length;r++)(n=i[r])&&(n.__=o,e=typeof n.type=="function"?de(n,e,t):he(t,n,n,i,n.__e,e));return e}function he(o,e,t,n,i,r){var s,a,u;if(e.__d!==void 0)s=e.__d,e.__d=void 0;else if(t==null||i!=r||i.parentNode==null)t:if(r==null||r.parentNode!==o)o.appendChild(i),s=null;else{for(a=r,u=0;(a=a.nextSibling)&&u<n.length;u+=1)if(a==i)break t;o.insertBefore(i,r),s=r}return s!==void 0?s:i.nextSibling}function Ae(o,e,t,n,i){var r;for(r in t)r==="children"||r==="key"||r in e||at(o,r,null,t[r],n);for(r in e)i&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||t[r]===e[r]||at(o,r,e[r],t[r],n)}function Dt(o,e,t){e[0]==="-"?o.setProperty(e,t):o[e]=t==null?"":typeof t!="number"||Re.test(e)?t:t+"px"}function at(o,e,t,n,i){var r;t:if(e==="style")if(typeof t=="string")o.style.cssText=t;else{if(typeof n=="string"&&(o.style.cssText=n=""),n)for(e in n)t&&e in t||Dt(o.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||Dt(o.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in o?e.toLowerCase().slice(2):e.slice(2),o.l||(o.l={}),o.l[e+r]=t,t?n||o.addEventListener(e,r?qt:Mt,r):o.removeEventListener(e,r?qt:Mt,r);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in o)try{o[e]=t??"";break t}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?o.removeAttribute(e):o.setAttribute(e,t))}}function Mt(o){this.l[o.type+!1](_.event?_.event(o):o)}function qt(o){this.l[o.type+!0](_.event?_.event(o):o)}function Ot(o,e,t,n,i,r,s,a,u){var d,c,l,f,p,v,I,m,S,b,T,E,Ft,X,Y,x=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(u=t.__h,a=e.__e=t.__e,e.__h=null,r=[a]),(d=_.__b)&&d(e);try{t:if(typeof x=="function"){if(m=e.props,S=(d=x.contextType)&&n[d.__c],b=d?S?S.props.value:d.__:n,t.__c?I=(c=e.__c=t.__c).__=c.__E:("prototype"in x&&x.prototype.render?e.__c=c=new x(m,b):(e.__c=c=new D(m,b),c.constructor=x,c.render=je),S&&S.sub(c),c.props=m,c.state||(c.state={}),c.context=b,c.__n=n,l=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),x.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=$({},c.__s)),$(c.__s,x.getDerivedStateFromProps(m,c.__s))),f=c.props,p=c.state,l)x.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(x.getDerivedStateFromProps==null&&m!==f&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(m,b),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(m,c.__s,b)===!1||e.__v===t.__v){for(c.props=m,c.state=c.__s,e.__v!==t.__v&&(c.__d=!1),c.__v=e,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(tt){tt&&(tt.__=e)}),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[],c.__h.length&&s.push(c);break t}c.componentWillUpdate!=null&&c.componentWillUpdate(m,c.__s,b),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(f,p,v)})}if(c.context=b,c.props=m,c.__v=e,c.__P=o,E=_.__r,Ft=0,"prototype"in x&&x.prototype.render){for(c.state=c.__s,c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),X=0;X<c._sb.length;X++)c.__h.push(c._sb[X]);c._sb=[]}else do c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++Ft<25);c.state=c.__s,c.getChildContext!=null&&(n=$($({},n),c.getChildContext())),l||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(f,p)),Y=d!=null&&d.type===R&&d.key==null?d.props.children:d,le(o,Array.isArray(Y)?Y:[Y],e,t,n,i,r,s,a,u),c.base=e.__e,e.__h=null,c.__h.length&&s.push(c),I&&(c.__E=c.__=null),c.__e=!1}else r==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Le(t.__e,e,t,n,i,r,s,u);(d=_.diffed)&&d(e)}catch(tt){e.__v=null,(u||r!=null)&&(e.__e=a,e.__h=!!u,r[r.indexOf(a)]=null),_.__e(tt,e,t)}}function pe(o,e){_.__c&&_.__c(e,o),o.some(function(t){try{o=t.__h,t.__h=[],o.some(function(n){n.call(t)})}catch(n){_.__e(n,t.__v)}})}function Le(o,e,t,n,i,r,s,a){var u,d,c,l=t.props,f=e.props,p=e.type,v=0;if(p==="svg"&&(i=!0),r!=null){for(;v<r.length;v++)if((u=r[v])&&"setAttribute"in u==!!p&&(p?u.localName===p:u.nodeType===3)){o=u,r[v]=null;break}}if(o==null){if(p===null)return document.createTextNode(f);o=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,f.is&&f),r=null,a=!1}if(p===null)l===f||a&&o.data===f||(o.data=f);else{if(r=r&&dt.call(o.childNodes),d=(l=t.props||rt).dangerouslySetInnerHTML,c=f.dangerouslySetInnerHTML,!a){if(r!=null)for(l={},v=0;v<o.attributes.length;v++)l[o.attributes[v].name]=o.attributes[v].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===o.innerHTML)||(o.innerHTML=c&&c.__html||""))}if(Ae(o,f,l,i,a),c)e.__k=[];else if(v=e.props.children,le(o,Array.isArray(v)?v:[v],e,t,n,i&&p!=="foreignObject",r,s,r?r[0]:t.__k&&B(t,0),a),r!=null)for(v=r.length;v--;)r[v]!=null&&ae(r[v]);a||("value"in f&&(v=f.value)!==void 0&&(v!==o.value||p==="progress"&&!v||p==="option"&&v!==l.value)&&at(o,"value",v,l.value,!1),"checked"in f&&(v=f.checked)!==void 0&&v!==o.checked&&at(o,"checked",v,l.checked,!1))}return o}function fe(o,e,t){try{typeof o=="function"?o(e):o.current=e}catch(n){_.__e(n,t)}}function ve(o,e,t){var n,i;if(_.unmount&&_.unmount(o),(n=o.ref)&&(n.current&&n.current!==o.__e||fe(n,null,e)),(n=o.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(r){_.__e(r,e)}n.base=n.__P=null,o.__c=void 0}if(n=o.__k)for(i=0;i<n.length;i++)n[i]&&ve(n[i],e,t||typeof o.type!="function");t||o.__e==null||ae(o.__e),o.__=o.__e=o.__d=void 0}function je(o,e,t){return this.constructor(o,t)}function Ne(o,e,t){var n,i,r;_.__&&_.__(o,e),i=(n=typeof t=="function")?null:t&&t.__k||e.__k,r=[],Ot(e,o=(!n&&t||e).__k=ce(R,null,[o]),i||rt,rt,e.ownerSVGElement!==void 0,!n&&t?[t]:i?null:e.firstChild?dt.call(e.childNodes):null,r,!n&&t?t:i?i.__e:e.firstChild,n),pe(r,o)}function Ue(o,e){var t={__c:e="__cC"+re++,__:o,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,r;return this.getChildContext||(i=[],(r={})[e]=this,this.getChildContext=function(){return r},this.shouldComponentUpdate=function(s){this.props.value!==s.value&&i.some(bt)},this.sub=function(s){i.push(s);var a=s.componentWillUnmount;s.componentWillUnmount=function(){i.splice(i.indexOf(s),1),a&&a.call(s)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}dt=se.slice,_={__e:function(o,e,t,n){for(var i,r,s;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(o)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(o,n||{}),s=i.__d),s)return i.__E=i}catch(a){o=a}throw o}},ie=0,D.prototype.setState=function(o,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=$({},this.state),typeof o=="function"&&(o=o($({},t),this.props)),o&&$(t,o),o!=null&&this.__v&&(e&&this._sb.push(e),bt(this))},D.prototype.forceUpdate=function(o){this.__v&&(this.__e=!0,o&&this.__h.push(o),bt(this))},D.prototype.render=R,H=[],st.__r=0,re=0;var U,y,vt,Bt,G=0,_e=[],ot=[],Gt=_.__b,Wt=_.__r,Vt=_.diffed,zt=_.__c,Jt=_.unmount;function J(o,e){_.__h&&_.__h(y,o,G||e),G=0;var t=y.__H||(y.__H={__:[],__h:[]});return o>=t.__.length&&t.__.push({__V:ot}),t.__[o]}function W(o){return G=1,Fe(me,o)}function Fe(o,e,t){var n=J(U++,2);if(n.t=o,!n.__c&&(n.__=[t?t(e):me(void 0,e),function(r){var s=n.__N?n.__N[0]:n.__[0],a=n.t(s,r);s!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=y,!y.u)){y.u=!0;var i=y.shouldComponentUpdate;y.shouldComponentUpdate=function(r,s,a){if(!n.__c.__H)return!0;var u=n.__c.__H.__.filter(function(c){return c.__c});if(u.every(function(c){return!c.__N}))return!i||i.call(this,r,s,a);var d=!1;return u.forEach(function(c){if(c.__N){var l=c.__[0];c.__=c.__N,c.__N=void 0,l!==c.__[0]&&(d=!0)}}),!(!d&&n.__c.props===r)&&(!i||i.call(this,r,s,a))}}return n.__N||n.__}function xt(o,e){var t=J(U++,3);!_.__s&&It(t.__H,e)&&(t.__=o,t.i=e,y.__H.__h.push(t))}function Tt(o,e){var t=J(U++,4);!_.__s&&It(t.__H,e)&&(t.__=o,t.i=e,y.__h.push(t))}function Et(o){return G=5,ht(function(){return{current:o}},[])}function ht(o,e){var t=J(U++,7);return It(t.__H,e)?(t.__V=o(),t.i=e,t.__h=o,t.__V):t.__}function Kt(o,e){return G=8,ht(function(){return o},e)}function He(o){var e=y.context[o.__c],t=J(U++,9);return t.c=o,e?(t.__==null&&(t.__=!0,e.sub(y)),e.props.value):o.__}function De(){for(var o;o=_e.shift();)if(o.__P&&o.__H)try{o.__H.__h.forEach(it),o.__H.__h.forEach(wt),o.__H.__h=[]}catch(e){o.__H.__h=[],_.__e(e,o.__v)}}_.__b=function(o){y=null,Gt&&Gt(o)},_.__r=function(o){Wt&&Wt(o),U=0;var e=(y=o.__c).__H;e&&(vt===y?(e.__h=[],y.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=ot,t.__N=t.i=void 0})):(e.__h.forEach(it),e.__h.forEach(wt),e.__h=[])),vt=y},_.diffed=function(o){Vt&&Vt(o);var e=o.__c;e&&e.__H&&(e.__H.__h.length&&(_e.push(e)!==1&&Bt===_.requestAnimationFrame||((Bt=_.requestAnimationFrame)||Me)(De)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==ot&&(t.__=t.__V),t.i=void 0,t.__V=ot})),vt=y=null},_.__c=function(o,e){e.some(function(t){try{t.__h.forEach(it),t.__h=t.__h.filter(function(n){return!n.__||wt(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],_.__e(n,t.__v)}}),zt&&zt(o,e)},_.unmount=function(o){Jt&&Jt(o);var e,t=o.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{it(n)}catch(i){e=i}}),t.__H=void 0,e&&_.__e(e,t.__v))};var Qt=typeof requestAnimationFrame=="function";function Me(o){var e,t=function(){clearTimeout(n),Qt&&cancelAnimationFrame(e),setTimeout(o)},n=setTimeout(t,100);Qt&&(e=requestAnimationFrame(t))}function it(o){var e=y,t=o.__c;typeof t=="function"&&(o.__c=void 0,t()),y=e}function wt(o){var e=y;o.__c=o.__(),y=e}function It(o,e){return!o||o.length!==e.length||e.some(function(t,n){return t!==o[n]})}function me(o,e){return typeof e=="function"?e(o):e}function _t(o,e){return o===e&&(o!==0||1/o===1/e)||o!==o&&e!==e}function qe(o,e){const t=e(),[{_instance:n},i]=W({_instance:{_value:t,_getSnapshot:e}});return Tt(()=>{n._value=t,n._getSnapshot=e,_t(n._value,e())||i({_instance:n})},[o,t,e]),xt(()=>(_t(n._value,n._getSnapshot())||i({_instance:n}),o(()=>{_t(n._value,n._getSnapshot())||i({_instance:n})})),[o]),t}const ye=o=>{const e=Et([o,(...t)=>e[0](...t)]).current;return Tt(()=>{e[0]=o}),e[1]},Be=(o="",e=location.pathname)=>e.toLowerCase().indexOf(o.toLowerCase())?"~"+e:e.slice(o.length)||"/",Ge=(o,e="")=>o[0]==="~"?o.slice(1):e+o,We="popstate",$t="pushState",Rt="replaceState",Ve="hashchange",Zt=[We,$t,Rt,Ve],ze=o=>{for(const e of Zt)addEventListener(e,o);return()=>{for(const e of Zt)removeEventListener(e,o)}},Je=o=>qe(ze,o),Ke=()=>location.pathname,Qe=()=>Je(Ke),Ze=(o,{replace:e=!1}={})=>history[e?Rt:$t](null,"",o),Xe=(o={})=>[Be(o.base,Qe()),ye((e,t)=>Ze(Ge(e,o.base),t))];if(typeof history<"u")for(const o of[$t,Rt]){const e=history[o];history[o]=function(){const t=e.apply(this,arguments),n=new Event(o);return n.arguments=arguments,dispatchEvent(n),t}}function Ye(o=en){let e={};const t=n=>e[n]||(e[n]=o(n));return(n,i)=>{const{regexp:r,keys:s}=t(n||""),a=r.exec(i);return a?[!0,s.reduce((d,c,l)=>(d[c.name]=a[l+1],d),{})]:[!1,null]}}const Xt=o=>o.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),tn=(o,e,t)=>{let n=o?"((?:[^\\/]+?)(?:\\/(?:[^\\/]+?))*)":"([^\\/]+?)";return e&&t&&(n="(?:\\/"+n+")"),n+(e?"?":"")},en=o=>{const e=/:([A-Za-z0-9_]+)([?+*]?)/g;let t=null,n=0,i=[],r="";for(;(t=e.exec(o))!==null;){const[s,a,u]=t,d=u==="+"||u==="*",c=u==="?"||u==="*",l=c&&o[t.index-1]==="/"?1:0,f=o.substring(n,t.index-l);i.push({name:a}),n=e.lastIndex,r+=Xt(f)+tn(d,c,l)}return r+=Xt(o.substring(n)),{keys:i,regexp:new RegExp("^"+r+"(?:\\/)?$","i")}},nn={hook:Xe,matcher:Ye(),base:""},on=Ue(nn),ge=()=>He(on),be=o=>o.hook(o),we=()=>be(ge()),rn=o=>{const e=ge(),[t]=be(e);return e.matcher(o,t)},mt=({path:o,match:e,component:t,children:n})=>{const i=rn(o),[r,s]=e||i;return r?t?ce(t,{params:s}):typeof n=="function"?n(s):n:null},Se=o=>{const{to:e,href:t=e}=o,[,n]=we(),i=ye(()=>n(e||t,o));return Tt(()=>{i()},[]),null};function pt(){throw new Error("Cycle detected")}function At(){if(N>1)N--;else{for(var o,e=!1;M!==void 0;){var t=M;for(M=void 0,St++;t!==void 0;){var n=t.o;if(t.o=void 0,t.f&=-3,!(8&t.f)&&ke(t))try{t.c()}catch(i){e||(o=i,e=!0)}t=n}}if(St=0,N--,e)throw o}}var g=void 0,M=void 0,N=0,St=0,ct=0;function Ce(o){if(g!==void 0){var e=o.n;if(e===void 0||e.t!==g)return e={i:0,S:o,p:g.s,n:void 0,t:g,e:void 0,x:void 0,r:e},g.s!==void 0&&(g.s.n=e),g.s=e,o.n=e,32&g.f&&o.S(e),e;if(e.i===-1)return e.i=0,e.n!==void 0&&(e.n.p=e.p,e.p!==void 0&&(e.p.n=e.n),e.p=g.s,e.n=void 0,g.s.n=e,g.s=e),e}}function O(o){this.v=o,this.i=0,this.n=void 0,this.t=void 0}O.prototype.h=function(){return!0};O.prototype.S=function(o){this.t!==o&&o.e===void 0&&(o.x=this.t,this.t!==void 0&&(this.t.e=o),this.t=o)};O.prototype.U=function(o){if(this.t!==void 0){var e=o.e,t=o.x;e!==void 0&&(e.x=t,o.e=void 0),t!==void 0&&(t.e=e,o.x=void 0),o===this.t&&(this.t=t)}};O.prototype.subscribe=function(o){var e=this;return ft(function(){var t=e.value,n=32&this.f;this.f&=-33;try{o(t)}finally{this.f|=n}})};O.prototype.valueOf=function(){return this.value};O.prototype.toString=function(){return this.value+""};O.prototype.peek=function(){return this.v};Object.defineProperty(O.prototype,"value",{get:function(){var o=Ce(this);return o!==void 0&&(o.i=this.i),this.v},set:function(o){if(o!==this.v){St>100&&pt(),this.v=o,this.i++,ct++,N++;try{for(var e=this.t;e!==void 0;e=e.x)e.t.N()}finally{At()}}}});function A(o){return new O(o)}function ke(o){for(var e=o.s;e!==void 0;e=e.n)if(e.S.i!==e.i||!e.S.h()||e.S.i!==e.i)return!0;return!1}function Pe(o){for(var e=o.s;e!==void 0;e=e.n){var t=e.S.n;if(t!==void 0&&(e.r=t),e.S.n=e,e.i=-1,e.n===void 0){o.s=e;break}}}function Oe(o){for(var e=o.s,t=void 0;e!==void 0;){var n=e.p;e.i===-1?(e.S.U(e),n!==void 0&&(n.n=e.n),e.n!==void 0&&(e.n.p=n)):t=e,e.S.n=e.r,e.r!==void 0&&(e.r=void 0),e=n}o.s=t}function L(o){O.call(this,void 0),this.x=o,this.s=void 0,this.g=ct-1,this.f=4}(L.prototype=new O).h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===ct))return!0;if(this.g=ct,this.f|=1,this.i>0&&!ke(this))return this.f&=-2,!0;var o=g;try{Pe(this),g=this;var e=this.x();(16&this.f||this.v!==e||this.i===0)&&(this.v=e,this.f&=-17,this.i++)}catch(t){this.v=t,this.f|=16,this.i++}return g=o,Oe(this),this.f&=-2,!0};L.prototype.S=function(o){if(this.t===void 0){this.f|=36;for(var e=this.s;e!==void 0;e=e.n)e.S.S(e)}O.prototype.S.call(this,o)};L.prototype.U=function(o){if(this.t!==void 0&&(O.prototype.U.call(this,o),this.t===void 0)){this.f&=-33;for(var e=this.s;e!==void 0;e=e.n)e.S.U(e)}};L.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var o=this.t;o!==void 0;o=o.x)o.t.N()}};L.prototype.peek=function(){if(this.h()||pt(),16&this.f)throw this.v;return this.v};Object.defineProperty(L.prototype,"value",{get:function(){1&this.f&&pt();var o=Ce(this);if(this.h(),o!==void 0&&(o.i=this.i),16&this.f)throw this.v;return this.v}});function sn(o){return new L(o)}function xe(o){var e=o.u;if(o.u=void 0,typeof e=="function"){N++;var t=g;g=void 0;try{e()}catch(n){throw o.f&=-2,o.f|=8,Lt(o),n}finally{g=t,At()}}}function Lt(o){for(var e=o.s;e!==void 0;e=e.n)e.S.U(e);o.x=void 0,o.s=void 0,xe(o)}function an(o){if(g!==this)throw new Error("Out-of-order effect");Oe(this),g=o,this.f&=-2,8&this.f&&Lt(this),At()}function K(o){this.x=o,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}K.prototype.c=function(){var o=this.S();try{!(8&this.f)&&this.x!==void 0&&(this.u=this.x())}finally{o()}};K.prototype.S=function(){1&this.f&&pt(),this.f|=1,this.f&=-9,xe(this),Pe(this),N++;var o=g;return g=this,an.bind(this,o)};K.prototype.N=function(){2&this.f||(this.f|=2,this.o=M,M=this)};K.prototype.d=function(){this.f|=8,1&this.f||Lt(this)};function ft(o){var e=new K(o);try{e.c()}catch(t){throw e.d(),t}return e.d.bind(e)}var yt;function F(o,e){_[o]=e.bind(null,_[o]||function(){})}function ut(o){yt&&yt(),yt=o&&o.S()}function Te(o){var e=this,t=o.data,n=Ct(t);n.value=t;var i=ht(function(){for(var r=e.__v;r=r.__;)if(r.__c){r.__c.__$f|=4;break}return e.__$u.c=function(){e.base.data=i.peek()},sn(function(){var s=n.value.value;return s===0?0:s===!0?"":s||""})},[]);return i.value}Te.displayName="_st";Object.defineProperties(O.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:Te},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});F("__b",function(o,e){if(typeof e.type=="string"){var t,n=e.props;for(var i in n)if(i!=="children"){var r=n[i];r instanceof O&&(t||(e.__np=t={}),t[i]=r,n[i]=r.peek())}}o(e)});F("__r",function(o,e){ut();var t,n=e.__c;n&&(n.__$f&=-2,(t=n.__$u)===void 0&&(n.__$u=t=function(i){var r;return ft(function(){r=this}),r.c=function(){n.__$f|=1,n.setState({})},r}())),ut(t),o(e)});F("__e",function(o,e,t,n){ut(),o(e,t,n)});F("diffed",function(o,e){ut();var t;if(typeof e.type=="string"&&(t=e.__e)){var n=e.__np,i=e.props;if(n){var r=t.U;if(r)for(var s in r){var a=r[s];a!==void 0&&!(s in n)&&(a.d(),r[s]=void 0)}else t.U=r={};for(var u in n){var d=r[u],c=n[u];d===void 0?(d=cn(t,u,c,i),r[u]=d):d.o(c,i)}}}o(e)});function cn(o,e,t,n){var i=e in o&&o.ownerSVGElement===void 0,r=A(t);return{o:function(s,a){r.value=s,n=a},d:ft(function(){var s=r.value.value;n[e]!==s&&(n[e]=s,i?o[e]=s:s?o.setAttribute(e,s):o.removeAttribute(e))})}}F("unmount",function(o,e){if(typeof e.type=="string"){var t=e.__e;if(t){var n=t.U;if(n){t.U=void 0;for(var i in n){var r=n[i];r&&r.d()}}}}else{var s=e.__c;if(s){var a=s.__$u;a&&(s.__$u=void 0,a.d())}}o(e)});F("__h",function(o,e,t,n){n<3&&(e.__$f|=2),o(e,t,n)});D.prototype.shouldComponentUpdate=function(o,e){var t=this.__$u;if(!(t&&t.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(var n in e)return!0;for(var i in o)if(i!=="__source"&&o[i]!==this.props[i])return!0;for(var r in this.props)if(!(r in o))return!0;return!1};function Ct(o){return ht(function(){return A(o)},[])}var kt=function(o,e){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])},kt(o,e)};function C(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=o}kt(o,e),o.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Pt=function(){return Pt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Pt.apply(this,arguments)};function k(o,e,t,n){return new(t||(t=Promise))(function(i,r){function s(d){try{u(n.next(d))}catch(c){r(c)}}function a(d){try{u(n.throw(d))}catch(c){r(c)}}function u(d){d.done?i(d.value):function(l){return l instanceof t?l:new t(function(f){f(l)})}(d.value).then(s,a)}u((n=n.apply(o,e||[])).next())})}function P(o,e){var t,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function a(u){return function(d){return function(l){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,n&&(i=2&l[0]?n.return:l[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,l[1])).done)return i;switch(n=0,i&&(l=[2&l[0],i.value]),l[0]){case 0:case 1:i=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,n=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!((i=i.length>0&&i[i.length-1])||l[0]!==6&&l[0]!==2)){s=0;continue}if(l[0]===3&&(!i||l[1]>i[0]&&l[1]<i[3])){s.label=l[1];break}if(l[0]===6&&s.label<i[1]){s.label=i[1],i=l;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(l);break}i[2]&&s.ops.pop(),s.trys.pop();continue}l=e.call(o,s)}catch(f){l=[6,f],n=0}finally{t=i=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([u,d])}}}var Ee,V=function(o){function e(t){var n,i,r,s,a=this;return(a=o.call(this,"ClientResponseError")||this).url="",a.status=0,a.data={},a.isAbort=!1,a.originalError=null,Object.setPrototypeOf(a,e.prototype),t instanceof e||(a.originalError=t),t!==null&&typeof t=="object"&&(a.url=typeof t.url=="string"?t.url:"",a.status=typeof t.status=="number"?t.status:0,a.data=t.data!==null&&typeof t.data=="object"?t.data:{}),typeof DOMException<"u"&&t instanceof DOMException&&(a.isAbort=!0),a.name="ClientResponseError "+a.status,a.message=(n=a.data)===null||n===void 0?void 0:n.message,a.message||(a.isAbort?a.message="The request was autocancelled. More info you could find in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((s=(r=(i=a.originalError)===null||i===void 0?void 0:i.cause)===null||r===void 0?void 0:r.message)===null||s===void 0)&&s.includes("ECONNREFUSED ::1")?a.message="Failed to connect to the PocketBase server. Try replacing the SDK url from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":a.message="Something went wrong while processing your request."),a}return C(e,o),e.prototype.toJSON=function(){return Pt({},this)},e}(Error),et=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Yt(o,e,t){var n=Object.assign({},t||{}),i=n.encode||ln;if(!et.test(o))throw new TypeError("argument name is invalid");var r=i(e);if(r&&!et.test(r))throw new TypeError("argument val is invalid");var s=o+"="+r;if(n.maxAge!=null){var a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");s+="; Max-Age="+Math.floor(a)}if(n.domain){if(!et.test(n.domain))throw new TypeError("option domain is invalid");s+="; Domain="+n.domain}if(n.path){if(!et.test(n.path))throw new TypeError("option path is invalid");s+="; Path="+n.path}if(n.expires){if(!function(d){return Object.prototype.toString.call(d)==="[object Date]"||d instanceof Date}(n.expires)||isNaN(n.expires.valueOf()))throw new TypeError("option expires is invalid");s+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():n.priority){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s}function un(o){return o.indexOf("%")!==-1?decodeURIComponent(o):o}function ln(o){return encodeURIComponent(o)}function te(o){if(o)try{var e=decodeURIComponent(Ee(o.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}Ee=typeof atob=="function"?atob:function(o){var e=String(o).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,n,i=0,r=0,s="";n=e.charAt(r++);~n&&(t=i%4?64*t+n:n,i++%4)?s+=String.fromCharCode(255&t>>(-2*i&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};var Q=function(){function o(e){e===void 0&&(e={}),this.load(e||{})}return o.prototype.load=function(e){for(var t=0,n=Object.entries(e);t<n.length;t++){var i=n[t],r=i[0],s=i[1];this[r]=s}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(o.prototype,"isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),o.prototype.clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},o.prototype.export=function(){return Object.assign({},this)},o}(),lt=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this.loadExpand(t.expand)},e.prototype.loadExpand=function(t){for(var n in t=t||{},this.expand={},t)Array.isArray(t[n])?this.expand[n]=t[n].map(function(i){return new e(i||{})}):this.expand[n]=new e(t[n]||{})},e}(Q),jt=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}(Q),dn=function(){function o(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(o.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"isValid",{get:function(){return!function(t,n){n===void 0&&(n=0);var i=te(t);return!(Object.keys(i).length>0&&(!i.exp||i.exp-n>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),o.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new lt(t):new jt(t):null,this.triggerChange()},o.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},o.prototype.loadFromCookie=function(e,t){t===void 0&&(t="pb_auth");var n=function(s,a){var u={};if(typeof s!="string")return u;for(var d=Object.assign({},a||{}).decode||un,c=0;c<s.length;){var l=s.indexOf("=",c);if(l===-1)break;var f=s.indexOf(";",c);if(f===-1)f=s.length;else if(f<l){c=s.lastIndexOf(";",l-1)+1;continue}var p=s.slice(c,l).trim();if(u[p]===void 0){var v=s.slice(l+1,f).trim();v.charCodeAt(0)===34&&(v=v.slice(1,-1));try{u[p]=d(v)}catch{u[p]=v}}c=f+1}return u}(e||"")[t]||"",i={};try{(typeof(i=JSON.parse(n))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},o.prototype.exportToCookie=function(e,t){var n,i,r;t===void 0&&(t="pb_auth");var s={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},a=te(this.token);a!=null&&a.exp?s.expires=new Date(1e3*a.exp):s.expires=new Date("1970-01-01"),e=Object.assign({},s,e);var u={token:this.token,model:((n=this.model)===null||n===void 0?void 0:n.export())||null},d=Yt(t,JSON.stringify(u),e),c=typeof Blob<"u"?new Blob([d]).size:d.length;return u.model&&c>4096&&(u.model={id:(i=u==null?void 0:u.model)===null||i===void 0?void 0:i.id,email:(r=u==null?void 0:u.model)===null||r===void 0?void 0:r.email},this.model instanceof lt&&(u.model.username=this.model.username,u.model.verified=this.model.verified,u.model.collectionId=this.model.collectionId),d=Yt(t,JSON.stringify(u),e)),d},o.prototype.onChange=function(e,t){var n=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var i=n._onChangeCallbacks.length-1;i>=0;i--)if(n._onChangeCallbacks[i]==e)return delete n._onChangeCallbacks[i],void n._onChangeCallbacks.splice(i,1)}},o.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var n=t[e];n&&n(this.token,this.model)}},o}(),hn=function(o){function e(t){t===void 0&&(t="pocketbase_auth");var n=o.call(this)||this;return n.storageFallback={},n.storageKey=t,n}return C(e,o),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,n=this._storageGet(this.storageKey)||{};return n===null||typeof n!="object"||n.model===null||typeof n.model!="object"?null:((t=n.model)===null||t===void 0?void 0:t.collectionId)===void 0?new jt(n.model):new lt(n.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,n){this._storageSet(this.storageKey,{token:t,model:n}),o.prototype.save.call(this,t,n)},e.prototype.clear=function(){this._storageRemove(this.storageKey),o.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var n=window.localStorage.getItem(t)||"";try{return JSON.parse(n)}catch{return n}}return this.storageFallback[t]},e.prototype._storageSet=function(t,n){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=n;typeof n!="string"&&(i=JSON.stringify(n)),window.localStorage.setItem(t,i)}else this.storageFallback[t]=n},e.prototype._storageRemove=function(t){var n;typeof window<"u"&&(window!=null&&window.localStorage)&&((n=window.localStorage)===null||n===void 0||n.removeItem(t)),delete this.storageFallback[t]},e}(dn),Z=function(e){this.client=e},pn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(n){return n||{}})},e.prototype.update=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send("/api/settings",{method:"PATCH",params:n,body:t}).then(function(i){return i||{}})},e.prototype.testS3=function(t){return t===void 0&&(t={}),this.client.send("/api/settings/test/s3",{method:"POST",params:t}).then(function(){return!0})},e.prototype.testEmail=function(t,n,i){i===void 0&&(i={});var r={email:t,template:n};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:r}).then(function(){return!0})},e}(Z),Ie=function(e,t,n,i,r){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=n>=0?n:0,this.totalPages=i>=0?i:0,this.items=r||[]},Nt=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getFullList=function(t,n){return t===void 0&&(t=200),n===void 0&&(n={}),this._getFullList(this.baseCrudPath,t,n)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),this._getFirstListItem(this.baseCrudPath,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),this._getOne(this.baseCrudPath,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this._create(this.baseCrudPath,t,n)},e.prototype.update=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),this._update(this.baseCrudPath,t,n,i)},e.prototype.delete=function(t,n){return n===void 0&&(n={}),this._delete(this.baseCrudPath,t,n)},e}(function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype._getFullList=function(t,n,i){var r=this;n===void 0&&(n=100),i===void 0&&(i={});var s=[],a=function(u){return k(r,void 0,void 0,function(){return P(this,function(d){return[2,this._getList(t,u,n,i).then(function(c){var l=c,f=l.items,p=l.totalItems;return s=s.concat(f),f.length&&p>s.length?a(u+1):s})]})})};return a(1)},e.prototype._getList=function(t,n,i,r){var s=this;return n===void 0&&(n=1),i===void 0&&(i=30),r===void 0&&(r={}),r=Object.assign({page:n,perPage:i},r),this.client.send(t,{method:"GET",params:r}).then(function(a){var u=[];if(a!=null&&a.items){a.items=a.items||[];for(var d=0,c=a.items;d<c.length;d++){var l=c[d];u.push(s.decode(l))}}return new Ie((a==null?void 0:a.page)||1,(a==null?void 0:a.perPage)||0,(a==null?void 0:a.totalItems)||0,(a==null?void 0:a.totalPages)||0,u)})},e.prototype._getOne=function(t,n,i){var r=this;return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"GET",params:i}).then(function(s){return r.decode(s)})},e.prototype._getFirstListItem=function(t,n,i){return i===void 0&&(i={}),i=Object.assign({filter:n,$cancelKey:"one_by_filter_"+t+"_"+n},i),this._getList(t,1,1,i).then(function(r){var s;if(!(!((s=r==null?void 0:r.items)===null||s===void 0)&&s.length))throw new V({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return r.items[0]})},e.prototype._create=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),this.client.send(t,{method:"POST",params:i,body:n}).then(function(s){return r.decode(s)})},e.prototype._update=function(t,n,i,r){var s=this;return i===void 0&&(i={}),r===void 0&&(r={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"PATCH",params:r,body:i}).then(function(a){return s.decode(a)})},e.prototype._delete=function(t,n,i){return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e}(Z)),fn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.decode=function(t){return new jt(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),o.prototype.update.call(this,t,n,i).then(function(s){var a,u;return r.client.authStore.model&&((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionId)===void 0&&((u=r.client.authStore.model)===null||u===void 0?void 0:u.id)===(s==null?void 0:s.id)&&r.client.authStore.save(r.client.authStore.token,s),s})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),o.prototype.delete.call(this,t,n).then(function(r){var s,a;return r&&i.client.authStore.model&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)===void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===t&&i.client.authStore.clear(),r})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:n})},e.prototype.authWithPassword=function(t,n,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:r,body:i}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,r,s){return r===void 0&&(r={}),s===void 0&&(s={}),r=Object.assign({token:t,password:n,passwordConfirm:i},r),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:s,body:r}).then(function(){return!0})},e}(Nt),vn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}(Q),_n=function(o){function e(t,n){var i=o.call(this,t)||this;return i.collectionIdOrName=n,i}return C(e,o),e.prototype.decode=function(t){return new lt(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,n){return k(this,void 0,void 0,function(){return P(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,n)]})})},e.prototype.subscribe=function(t,n){return k(this,void 0,void 0,function(){var i;return P(this,function(r){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!n)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,t!=="*"&&(i+="/"+t),[2,this.client.realtime.subscribe(i,n)]})})},e.prototype.unsubscribe=function(t){return k(this,void 0,void 0,function(){return P(this,function(n){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,n){return t===void 0&&(t=200),n===void 0&&(n={}),o.prototype.getFullList.call(this,t,n)},e.prototype.getList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),o.prototype.getList.call(this,t,n,i)},e.prototype.getFirstListItem=function(t,n){return n===void 0&&(n={}),o.prototype.getFirstListItem.call(this,t,n)},e.prototype.getOne=function(t,n){return n===void 0&&(n={}),o.prototype.getOne.call(this,t,n)},e.prototype.create=function(t,n){return t===void 0&&(t={}),n===void 0&&(n={}),o.prototype.create.call(this,t,n)},e.prototype.update=function(t,n,i){var r=this;return n===void 0&&(n={}),i===void 0&&(i={}),o.prototype.update.call(this,t,n,i).then(function(s){var a,u;return((a=r.client.authStore.model)===null||a===void 0?void 0:a.collectionId)!==void 0&&((u=r.client.authStore.model)===null||u===void 0?void 0:u.id)===(s==null?void 0:s.id)&&r.client.authStore.save(r.client.authStore.token,s),s})},e.prototype.delete=function(t,n){var i=this;return n===void 0&&(n={}),o.prototype.delete.call(this,t,n).then(function(r){var s,a;return r&&((s=i.client.authStore.model)===null||s===void 0?void 0:s.collectionId)!==void 0&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)===t&&i.client.authStore.clear(),r})},e.prototype.authResponse=function(t){var n=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,n),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:n})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(n){return Object.assign({},n,{usernamePassword:!!(n!=null&&n.usernamePassword),emailPassword:!!(n!=null&&n.emailPassword),authProviders:Array.isArray(n==null?void 0:n.authProviders)?n==null?void 0:n.authProviders:[]})})},e.prototype.authWithPassword=function(t,n,i,r){var s=this;return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({identity:t,password:n},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:r,body:i}).then(function(a){return s.authResponse(a)})},e.prototype.authWithOAuth2=function(t,n,i,r,s,a,u){var d=this;return s===void 0&&(s={}),a===void 0&&(a={}),u===void 0&&(u={}),a=Object.assign({provider:t,code:n,codeVerifier:i,redirectUrl:r,createData:s},a),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:u,body:a}).then(function(c){return d.authResponse(c)})},e.prototype.authRefresh=function(t,n){var i=this;return t===void 0&&(t={}),n===void 0&&(n={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:n,body:t}).then(function(r){return i.authResponse(r)})},e.prototype.requestPasswordReset=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,n,i,r,s){return r===void 0&&(r={}),s===void 0&&(s={}),r=Object.assign({token:t,password:n,passwordConfirm:i},r),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:s,body:r}).then(function(){return!0})},e.prototype.requestVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({email:t},n),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmVerification=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({token:t},n),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,n,i){return n===void 0&&(n={}),i===void 0&&(i={}),n=Object.assign({newEmail:t},n),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:n}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,n,i,r){return i===void 0&&(i={}),r===void 0&&(r={}),i=Object.assign({token:t,password:n},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:r,body:i}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,n){return n===void 0&&(n={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:n}).then(function(i){var r=[];if(Array.isArray(i))for(var s=0,a=i;s<a.length;s++){var u=a[s];r.push(new vn(u))}return r})},e.prototype.unlinkExternalAuth=function(t,n,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(n),{method:"DELETE",params:i}).then(function(){return!0})},e}(Nt),mn=function(){function o(e){e===void 0&&(e={}),this.load(e||{})}return o.prototype.load=function(e){this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.unique=!!e.unique,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},o}(),yn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0?t.options:{},this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var n=0,i=t.schema;n<i.length;n++){var r=i[n];this.schema.push(new mn(r))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSingle",{get:function(){return this.type==="single"},enumerable:!1,configurable:!0}),e}(Q),gn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.decode=function(t){return new yn(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,n,i){return n===void 0&&(n=!1),i===void 0&&(i={}),k(this,void 0,void 0,function(){return P(this,function(r){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:t,deleteMissing:n}}).then(function(){return!0})]})})},e}(Nt),ee=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.load=function(t){o.prototype.load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}(Q),bn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.getRequestsList=function(t,n,i){return t===void 0&&(t=1),n===void 0&&(n=30),i===void 0&&(i={}),i=Object.assign({page:t,perPage:n},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(r){var s=[];if(r!=null&&r.items){r.items=(r==null?void 0:r.items)||[];for(var a=0,u=r.items;a<u.length;a++){var d=u[a];s.push(new ee(d))}}return new Ie((r==null?void 0:r.page)||1,(r==null?void 0:r.perPage)||0,(r==null?void 0:r.totalItems)||0,(r==null?void 0:r.totalPages)||0,s)})},e.prototype.getRequest=function(t,n){return n===void 0&&(n={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:n}).then(function(i){return new ee(i)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(n){return n})},e}(Z),wn=function(o){function e(){var t=o!==null&&o.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return C(e,o),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,n){var i;return k(this,void 0,void 0,function(){var r,s=this;return P(this,function(a){switch(a.label){case 0:if(!t)throw new Error("topic must be set.");return r=function(u){var d,c=u;try{d=JSON.parse(c==null?void 0:c.data)}catch{}n(d||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(r),this.isConnected?[3,2]:[4,this.connect()];case 1:return a.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return a.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(t,r),a.label=5;case 5:return[2,function(){return k(s,void 0,void 0,function(){return P(this,function(u){return[2,this.unsubscribeByTopicAndListener(t,r)]})})}]}})})},e.prototype.unsubscribe=function(t){var n;return k(this,void 0,void 0,function(){var i,r,s;return P(this,function(a){switch(a.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(i=0,r=this.subscriptions[t];i<r.length;i++)s=r[i],(n=this.eventSource)===null||n===void 0||n.removeEventListener(t,s);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var n;return k(this,void 0,void 0,function(){var i,r,s,a,u;return P(this,function(d){switch(d.label){case 0:for(r in i=!1,this.subscriptions)if(r.startsWith(t)){for(i=!0,s=0,a=this.subscriptions[r];s<a.length;s++)u=a[s],(n=this.eventSource)===null||n===void 0||n.removeEventListener(r,u);delete this.subscriptions[r]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return d.sent(),[3,3];case 2:this.disconnect(),d.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,n){var i;return k(this,void 0,void 0,function(){var r,s;return P(this,function(a){switch(a.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(r=!1,s=this.subscriptions[t].length-1;s>=0;s--)this.subscriptions[t][s]===n&&(r=!0,delete this.subscriptions[t][s],this.subscriptions[t].splice(s,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,n));return r?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:a.sent(),a.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var n,i;if(this.subscriptions=this.subscriptions||{},t)return!!(!((n=this.subscriptions[t])===null||n===void 0)&&n.length);for(var r in this.subscriptions)if(!((i=this.subscriptions[r])===null||i===void 0)&&i.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return k(this,void 0,void 0,function(){return P(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(n){if(!(n!=null&&n.isAbort))throw n})]):[2]})})},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var n in this.subscriptions)this.subscriptions[n].length&&t.push(n);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var r=i[n];this.eventSource.addEventListener(t,r)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var n=0,i=this.subscriptions[t];n<i.length;n++){var r=i[n];this.eventSource.removeEventListener(t,r)}},e.prototype.connect=function(){return k(this,void 0,void 0,function(){var t=this;return P(this,function(n){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,r){t.pendingConnects.push({resolve:i,reject:r}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(n){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(n){var i=n;t.clientId=i==null?void 0:i.lastEventId,t.submitSubscriptions().then(function(){return k(t,void 0,void 0,function(){var r;return P(this,function(s){switch(s.label){case 0:r=3,s.label=1;case 1:return this.hasUnsentSubscriptions()&&r>0?(r--,[4,this.submitSubscriptions()]):[3,3];case 2:return s.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var r=0,s=t.pendingConnects;r<s.length;r++)s[r].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(r){t.clientId="",t.connectErrorHandler(r)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var n=0,i=t;n<i.length;n++){var r=i[n];if(!this.lastSentTopics.includes(r))return!0}return!1},e.prototype.connectErrorHandler=function(t){var n=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,r=this.pendingConnects;i<r.length;i++)r[i].reject(new V(t));this.disconnect()}else{this.disconnect(!0);var s=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){n.initConnect()},s)}},e.prototype.disconnect=function(t){var n;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(n=this.eventSource)===null||n===void 0||n.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var i=new V(new Error("Realtime disconnected.")),r=0,s=this.pendingConnects;r<s.length;r++)s[r].reject(i);this.pendingConnects=[]}},e}(Z),Sn=function(o){function e(){return o!==null&&o.apply(this,arguments)||this}return C(e,o),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(Z),Cn=function(){function o(e,t,n){e===void 0&&(e="/"),n===void 0&&(n="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=n,this.authStore=t||new hn,this.admins=new fn(this),this.collections=new gn(this),this.logs=new bn(this),this.settings=new pn(this),this.realtime=new wn(this),this.health=new Sn(this)}return o.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new _n(this,e)),this.recordServices[e]},o.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},o.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},o.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},o.prototype.send=function(e,t){var n,i,r,s,a,u,d,c;return k(this,void 0,void 0,function(){var l,f,p,v,I,m=this;return P(this,function(S){return(l=Object.assign({method:"GET"},t)).body&&l.body.constructor.name!=="FormData"&&(typeof l.body!="string"&&(l.body=JSON.stringify(l.body)),((n=l==null?void 0:l.headers)===null||n===void 0?void 0:n["Content-Type"])===void 0&&(l.headers=Object.assign({},l.headers,{"Content-Type":"application/json"}))),((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(l.headers=Object.assign({},l.headers,{"Accept-Language":this.lang})),!((r=this.authStore)===null||r===void 0)&&r.token&&((s=l==null?void 0:l.headers)===null||s===void 0?void 0:s.Authorization)===void 0&&(l.headers=Object.assign({},l.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((a=l.params)===null||a===void 0?void 0:a.$autoCancel)!==!1&&(f=((u=l.params)===null||u===void 0?void 0:u.$cancelKey)||(l.method||"GET")+e,this.cancelRequest(f),p=new AbortController,this.cancelControllers[f]=p,l.signal=p.signal),(d=l.params)===null||d===void 0||delete d.$autoCancel,(c=l.params)===null||c===void 0||delete c.$cancelKey,v=this.buildUrl(e),l.params!==void 0&&((I=this.serializeQueryParams(l.params))&&(v+=(v.includes("?")?"&":"?")+I),delete l.params),this.beforeSend&&(l=Object.assign({},this.beforeSend(v,l))),[2,fetch(v,l).then(function(b){return k(m,void 0,void 0,function(){var T;return P(this,function(E){switch(E.label){case 0:T={},E.label=1;case 1:return E.trys.push([1,3,,4]),[4,b.json()];case 2:return T=E.sent(),[3,4];case 3:return E.sent(),[3,4];case 4:if(this.afterSend&&(T=this.afterSend(b,T)),b.status>=400)throw new V({url:b.url,status:b.status,data:T});return[2,T]}})})}).catch(function(b){throw new V(b)})]})})},o.prototype.getFileUrl=function(e,t,n){n===void 0&&(n={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));var r=this.buildUrl(i.join("/"));if(Object.keys(n).length){var s=new URLSearchParams(n);r+=(r.includes("?")?"&":"?")+s}return r},o.prototype.buildUrl=function(e){var t=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return e&&(t+=e.startsWith("/")?e.substring(1):e),t},o.prototype.serializeQueryParams=function(e){var t=[];for(var n in e)if(e[n]!==null){var i=e[n],r=encodeURIComponent(n);if(Array.isArray(i))for(var s=0,a=i;s<a.length;s++){var u=a[s];t.push(r+"="+encodeURIComponent(u))}else i instanceof Date?t.push(r+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(r+"="+encodeURIComponent(JSON.stringify(i))):t.push(r+"="+encodeURIComponent(i))}return t.join("&")},o}();console.log("using backend: ","https://beer.tylergregg.me");const w=new Cn("https://beer.tylergregg.me");window.pb=w;const q=A({}),z=A(!1),ne=A(!1);w.authStore.onChange(()=>{var o,e,t,n,i,r,s,a,u,d,c,l,f,p;if(console.log("running auth onchange..."),z.value!==w.authStore.isValid&&(console.log("setting is_authenticated",w.authStore.isValid),z.value=w.authStore.isValid),!((o=q.value)!=null&&o.id)&&!ne.value)try{console.log("running auth refresh"),ne.value=!0,w.collection("users").authRefresh()}catch{}((t=(e=w.authStore)==null?void 0:e.baseModel)==null?void 0:t.id)!==((n=q.value)==null?void 0:n.id)&&(console.log("setting user_data to",(r=(i=w.authStore)==null?void 0:i.baseModel)==null?void 0:r.id),q.value=(a=(s=w.authStore)==null?void 0:s.baseModel)!=null&&a.id?{id:(d=(u=w.authStore)==null?void 0:u.baseModel)==null?void 0:d.id,username:(l=(c=w.authStore)==null?void 0:c.baseModel)==null?void 0:l.username,email:(p=(f=w.authStore)==null?void 0:f.baseModel)==null?void 0:p.email}:{})},!0);ft(()=>{console.log("auth data updated",z.value,q.value)});const kn=async(o,e)=>{try{return await w.collection("users").authWithPassword(o,e),{success:!0}}catch(t){return console.error("failed login",t),{success:!1,error:t}}},Pn=()=>w.authStore.clear(),oe=A(0);var On=0;function h(o,e,t,n,i){var r,s,a={};for(s in e)s=="ref"?r=e[s]:a[s]=e[s];var u={type:o,props:a,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--On,__source:i,__self:n};if(typeof o=="function"&&(r=o.defaultProps))for(s in r)a[s]===void 0&&(a[s]=r[s]);return _.vnode&&_.vnode(u),u}const gt=({children:o,onClick:e})=>h("li",{children:h("a",{href:"#",onClick:e,children:o})}),xn=()=>{const[o,e]=we(),t=Et(),n=r=>{Pn(),r.preventDefault(),t.current.open=!1},i=r=>s=>{s.preventDefault(),e(r),t.current.open=!1};return h("nav",{className:"container-fluid",children:[h("ul",{children:h("li",{children:h("a",{href:"./",className:"contrast",onClick:i("/"),children:h("strong",{children:"beer.tylergregg"})})})}),h("ul",{children:h("li",{children:h("details",{role:"list",dir:"rtl",ref:t,children:[h("summary",{"aria-haspopup":"listbox",role:"link",className:"secondary",children:"Apps"}),h("ul",{role:"listbox",children:[h(gt,{onClick:i("/"),children:"Home"}),h(gt,{onClick:i("/todos"),children:"Todos"}),h(gt,{onClick:n,children:"Sign out"})]})]})})})]})},Ut=({id:o,children:e})=>h("main",{className:"container",...!!o&&{id:o},children:e}),Tn=()=>{const[o,e]=W(""),[t,n]=W(""),i=async()=>{await kn(o,t)};return h("article",{className:"grid",children:[z.value&&h(Se,{to:"/todos"}),h("div",{children:[h("hgroup",{children:[h("h1",{children:"Sign in"}),h("h2",{children:"Lets not get too crazy..."})]}),h("form",{children:[h("input",{type:"text",name:"login",placeholder:"Login","aria-label":"Login",autocomplete:"email",onInput:r=>e(r.target.value),value:o}),h("input",{type:"password",name:"password",placeholder:"Password","aria-label":"Password",autocomplete:"current-password",onInput:r=>n(r.target.value),value:t}),h("fieldset",{children:h("label",{for:"remember",children:[h("input",{type:"checkbox",role:"switch",id:"remember",name:"remember"}),"Remember me"]})}),h("button",{type:"submit",className:"contrast",onClick:r=>{r.preventDefault(),i()},children:"Login"})]})]}),h("div",{})]})},j=A([]),$e=o=>{const e=Ct(!0),t=Ct(null);xt(()=>{const{skip:r,...s}=o||{sort:"-created"};r||w.collection("todos").getFullList(200,s).then(a=>{e.value=!1,j.value=a}).catch(a=>{e.value=!1,t.value=a})},[o]);const n=Kt(async r=>{try{const s=await w.collection("todos").create({...r,user:q.value.id});return j.value=[s,...j.value],console.log("successfully created todo"),{success:!0}}catch(s){return console.log("could not create todo: ",s),{success:!1,error:s}}},[]),i=Kt(async r=>{try{const s=await w.collection("todos").delete(r);return j.value=j.value.filter(a=>a.id!==r),console.log("successfully deleted todo"),{success:!0}}catch(s){return console.log("could not delete todo: ",s),{success:!1,error:s}}},[]);return{loading:e.value,todos:j.value,error:t.value,createTodo:n,deleteTodo:i}},En=()=>{const[o,e]=W(null),{todos:t,deleteTodo:n}=$e();return console.log(t),h("section",{id:"preview",children:t.map(i=>h("article",{onClick:()=>e(i.id),style:{backgroundColor:"#182530",margin:"calc(var(--block-spacing-vertical)/2) 0",padding:"calc(var(--block-spacing-horizontal)/1.5) calc(var(--block-spacing-horizontal)/1.5)"},children:[h("p",{children:i.text}),o===i.id&&h("footer",{style:{display:"flex",flexDirection:"row"},children:[h("button",{onClick:()=>n(i.id),style:{marginRight:"8px",maxWidth:"165px"},children:"Delete"}),h("button",{className:"contrast",style:{maxWidth:"165px"},children:"Edit"})]})]},i.id))})},In=()=>{const[o,e]=W(""),t=Et(),{createTodo:n}=$e(),i=s=>e(s.target.value);return h("section",{id:"form",children:h("form",{onSubmit:async s=>{s.preventDefault(),await n({text:o,done:!1}),console.log(o),e(""),t.current.focus()},autocomplete:"off",children:[h("h3",{children:"Add todos"}),h("label",{for:"text",children:"Todo"}),h("input",{type:"text",id:"text",name:"text",placeholder:"Todo",value:o,onInput:i,ref:t}),h("small",{children:"Press enter to submit your todo"})]})})},$n=()=>h(R,{children:h(Ut,{id:"signin",children:h(Tn,{})})}),Rn=()=>(xt(()=>{console.log(oe.value)},[oe.value]),h(R,{children:h(Ut,{children:h("section",{id:"preview",children:[h("h2",{children:"Preview"}),h("p",{children:"Sed ultricies dolor non ante vulputate hendrerit. Vivamus sit amet suscipit sapien. Nulla iaculis eros a elit pharetra egestas."}),h("form",{children:[h("div",{className:"grid",children:[h("input",{type:"text",name:"firstname",placeholder:"First name","aria-label":"First name",required:""}),h("input",{type:"email",name:"email",placeholder:"Email address","aria-label":"Email address",required:""}),h("button",{type:"submit",children:"Subscribe"})]}),h("fieldset",{children:h("label",{for:"terms",children:[h("input",{type:"checkbox",role:"switch",id:"terms",name:"terms"}),"I agree to the"," ",h("a",{href:"#",onClick:o=>o.preventDefault(),children:"Privacy Policy"})]})})]})]})})})),An=()=>h(R,{children:h(Ut,{children:[h(In,{}),h(En,{})]})});const Ln=()=>h(R,{children:[h(xn,{}),h(mt,{path:"/signin",component:$n}),!z.value&&h(Se,{to:"/signin"}),h(mt,{path:"/todos",component:An}),h(mt,{path:"/",component:Rn})]});Ne(h(Ln,{}),document.querySelector("body"));
